[
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#target-audience-unclear",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#target-audience-unclear",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Target Audience Unclear",
    "text": "Target Audience Unclear\n\nIf you are a footy fan this article will likely present as some mildy interesting footy facts, combined with incomprehensible techno-babble. For R users this will likely appear to be a fairly elementary data wrangling exercise, combined with a bunch of references you don’t understand. But if you are both a footy fan and an R user, it will hopefully prove to be a quite interesting read."
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#question-list",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#question-list",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Question List",
    "text": "Question List\nThis article aims to tackle the questions listed below:\n\n\nWhat is the record for the highest scoring quarter?\nWhat is the record for the most individual goal kickers in a single game?\nWhat is the record for the most multiple goal kickers in a single game?\nWhat is the record for the most players kicking five or more goals in a single game (i.e. the most “bags”)?\nWhat is the record for the most clangers in a game?\nWhat is the record for the worst disposal efficiency in a game?\nWho was the youngest player to win a Norm Smith Medal?\nWhat is the record for the most unanswered goals in a game?*\nWhat is the school with the most AFL players on their list?*\nWhat city/town has the most AFL players relative to population?*\nWhich player has the best goals to behinds ratio?*\nHave there ever been any undefeated seasons?*\nWhat is the worst win-loss record to make finals?*\n\n\n\n\n\n\n\n\nDisclaimer on the asterisk\n\n\n\nI have put an asterisk next to questions that either:\n\ncannot easily be answered by the methods I discuss below; or\nare too lengthy for this blog post (these may get their own dedicated blog post in the future).\n\nThe remaining questions (which have hyperlinks to later sections of this article) will be tackled using R below.\n\n\nNote that things are about to get very technical so if you are only really interested in the answers (and not the R coding), you can jump ahead by clicking here."
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#the-fitzroy-package",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#the-fitzroy-package",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "The fitzRoy Package",
    "text": "The fitzRoy Package\nThe first step in analysing AFL data is obtaining the data (the so-called “collection” phase). Our first thought might be to search the web for publicly available AFL datasets and APIs or even scrape the data from websites such as the official AFL website, Footywire or AFL Tables. But there is a more straight-forward way.\nWhile most people now know Fitzroy as a trendy inner city suburb of Melbourne, filled with terraces and over-priced croissants, it was once home10 to the mighty (and now merged out of existence) Fitzroy Lions Football Club.10 It is also (regrettably) the place of my birth but as a WA boy I don’t like to talk about the fact that my parents happened to be in Melbourne when I was born.\n\n\n\n\nWe can obtain the data we need very simply using its name-sake, the fitzRoy R package. This package abstracts away all the web scraping and API calls for us into a very helpful family of fetch_* functions.\nSo let’s begin by loading the fitzRoy package and while we’re at it, we will also load all the other packages we will be using later on.\n\nlibrary(fitzRoy)\n\n# Note that I generally avoid mixing dplyr and data.table at the same time\n#   but the reason I have done with will become apparent later\nlibrary(dplyr)\nlibrary(data.table)\n\nlibrary(rvest)\nlibrary(stringr)\nlibrary(tidyr)\nlibrary(purrr)\nlibrary(lubridate)\n\n\nfitzRoy Data Sources\nfitzRoy provides access to a number of footy data sources11 including AFL Tables and the official AFL website. Each data source has its own advantages and disadvantages, for example:11 Up-to-date information on data sources can be found on fitzRoy’s documentation site\n\nAFL Tables has the entirety of AFL/VFL history (1897 to present) but lacks some of the more advanced stats.\nThe official AFL website only has data from 2014 onwards but it also probably the most complete in terms of the advanced statistics it contains (e.g. centre bounce attendances12).\n\n12 Centre bounce attendances (CBAs) are a commonly-used metrics in AFL fantasy, coaches often look at tools such as this one to help with researching their trades.All of the different data sources are compared in the table below:"
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#importing-the-data",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#importing-the-data",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Importing the Data",
    "text": "Importing the Data\nFor the purposes of answering the questions above, I am most interested in the full history of the AFL and have decided to use AFL Tables as my primary data source13. I will also use Fryzigg for one small use-case where AFL Tables is missing key data (disposal efficiency) and some bespoke web scraping for Norm Smith Medallists.13 In hindsight I somewhat regret this decision and would have probably preferred to use Fryzigg for everything (with the exception of quarter scores which it doesn’t have and AFL Tables does) but I only realised it had the full AFL/VFL history when I constructed the table comparing data sources above\nThe fetch_* family of functions from the fitzRoy package allow us to read data from the various sources. Consult the documentation site for a complete list of all the available functions.\nWe can fetch this data via fitzRoy with the following code:\n\nplayer_stats &lt;- fetch_player_stats_afltables(season = 1897:2023)\nresults &lt;- fetch_results_afltables(season = 1897:2023)\nplayer_details &lt;- fetch_player_details_afltables()\nplayer_stats_fryzigg &lt;-  fetch_player_stats_fryzigg(season = 1897:2023)\n\n\n\n\n\n\n\nBeing a good citizen\n\n\n\nWhen sourcing data from fitzRoy, it is important to follow good data collection14 etiquette by only downloading the data you need and avoiding repeatedly downloading the same data over and over again. This prevents servers being overloaded and will mean everyone will get their data faster.\nIn keeping with this, for the purposes of this blog post, I have saved the data in a local RDS file instead of repeatedly calling the fetch_* functions, I use readRDS(). The code for this is below (and the code above is not actually run but is cleaner for demonstration purposes):\n\nif(file.exists(\"data/player_stats.RDS\")) {\n  player_stats &lt;- readRDS(\"data/player_stats.RDS\")\n  \n} else {\n  player_stats &lt;- fitzRoy::fetch_player_stats_afltables(season = 1897:2023)\n  saveRDS(player_stats, \"data/player_stats.RDS\")\n}\n\nif(file.exists(\"data/results.RDS\")) {\n  results &lt;- readRDS(\"data/results.RDS\")\n  \n} else {\n  results &lt;- fitzRoy::fetch_results_afltables(season = 1897:2023)\n  saveRDS(results, \"data/results.RDS\")\n}\n\nif(file.exists(\"data/player_details.RDS\")) {\n  player_details &lt;- readRDS(\"data/player_details.RDS\")\n  \n} else {\n  player_details &lt;- fetch_player_details_afltables()\n  saveRDS(player_details, \"data/player_details.RDS\")\n}\n\nif(file.exists(\"data/player_stats_fryzigg.RDS\")) {\n  player_stats_fryzigg &lt;- readRDS(\"data/player_stats_fryzigg.RDS\")\n  \n} else {\n  player_stats_fryzigg &lt;-  fetch_player_stats_fryzigg(season = 1897:2023)\n  saveRDS(player_stats_fryzigg, \"data/player_stats_fryzigg.RDS\")\n}\n\n\n\n14 this topic is discussed on the fitzRoy documentation site hereThe data we have read in is as at round 19 of the 2023 AFL season."
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#finicky-details-about-other-r-packages",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#finicky-details-about-other-r-packages",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Finicky Details About Other R Packages",
    "text": "Finicky Details About Other R Packages\nTidyverse Versus data.table\n\nIn the R community, there is an ongoing power struggle between using the Posit15-backed tidyverse and the heavily-optimised data.table.15 formerly known as RStudio (RIP)\nAs to not unsettle people who prefer either dplyr (and the tidyverse) or data.table, I have written code in both packages16. Where relevant, I have used a tabbed layout for the convenience of the reader. As my personal preference for readability purposes is the tidyverse17, I will place this code in the first tab.16 Note that I have not written a base R dataframes version because I can see arguments for using both tidyverse and data.table but base R data.frames will probably cause more pain than they are worth (there is a reason that tidyverse and data.table exist)17 I will typically will only use data.table if the size of data necessitates it. In this case, the data is less than a million rows so there are no problems.\n\n\n\n\n\n\nA cautionary tale\n\n\n\nWhile doing things in this way did scratch something of a perfectionist’s itch in me and was a fun learning experience, I will probably refrain from doing something like this again in future posts. I don’t think the additional time it took me to essentially write the same code twice is worth the effort.\n\n\n\n\nTidyverse\ndata.table\n\n\n\nNote that the code below is somewhat redundant as the fitzRoy package follows the tidyverse philosophy and returns tibbles. However this is add the _tb suffix18 to distinguish it from the data.table code.18 an abbreviation of “tibble”\n\nplayer_stats_tb &lt;- as_tibble(player_stats)\nresults_tb &lt;- as_tibble(results)\nplayer_details_tb &lt;- as_tibble(player_details)\nplayer_stats_fryzigg_tb &lt;- as_tibble(player_stats_fryzigg)\n\n\n\nHenceforth, all data.table code will use the _dt suffix19 as to distinguish it from the tidyverse code.19 an acronym of “data.table”\n\nplayer_stats_dt &lt;- as.data.table(player_stats)\nresults_dt &lt;- as.data.table(results)\nplayer_details_dt &lt;- as.data.table(player_details)\nplayer_stats_fryzigg_dt &lt;- as.data.table(player_stats_fryzigg)\n\n\n\n\nAdoption of the Native Pipe Operator (|&gt;)\nThe so-called pipe operator (%&gt;%) of the magrittr package has been a core staple of tidyverse since its inception but since the R core team introduced the so-called native pipe (|&gt;) to base R (in version 4.120), this has led to a split in adoption. There are some nuances in its usage21 but it overall behaves in a similar way to the magrittr pipe and has less overhead (and is therefore faster). While the native pipe was initially missing some of the key features of the magrittr pipe, new features22 have been added to it that (in my mind) mean that it might have even surpassed the magrittr pipe.20 another cool thing introduced in this version of R was so-called function shorthand (\\()), see help(\"function\") for more details21 I may even cover these in a future blog post22 In R version 4.2, the _ symbol was added as a placeholder character and in R version 4.3, extractions using the $ symbol are now allowed\nWhile I have tried to appease people in both the tidyverse and data.table camps, I will not be re-writing my code more than once with such as minor syntactic difference as the pipe I use. I will therefore be dragging all my tidyverse-using readers kicking and screaming into the R 4.1 world by adopting the native pipe (|&gt;) in my tidyverse code.\n\nNote that the common RStudio shortcut, Ctrl+Shift+M can be changed from the magrittr pipe (%&gt;%), which is still the default, to the native pipe (|&gt;).\n\nWebscraping package\nWhile the majority of our data will be sourced using the fitzRoy package, a small amount of data (namely Norm Smith medalists, which are outside of the scope of fitzRoy) will require us to perform some bespoke web scraping. This will be performed using the rvest package (loaded above)."
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#flattening-the-data",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#flattening-the-data",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Flattening the Data",
    "text": "Flattening the Data\nTo begin with, let’s scrutinise the results data in order to figure out what we have to work with.\n\nstr(results)\n\ntibble [16,352 × 16] (S3: tbl_df/tbl/data.frame)\n $ Game        : num [1:16352] 1 2 3 4 5 6 7 8 9 10 ...\n $ Date        : Date[1:16352], format: \"1897-05-08\" \"1897-05-08\" ...\n $ Round       : chr [1:16352] \"R1\" \"R1\" \"R1\" \"R1\" ...\n $ Home.Team   : chr [1:16352] \"Fitzroy\" \"Collingwood\" \"Geelong\" \"Sydney\" ...\n $ Home.Goals  : int [1:16352] 6 5 3 3 6 4 3 9 6 5 ...\n $ Home.Behinds: int [1:16352] 13 11 6 9 4 6 8 10 5 9 ...\n $ Home.Points : int [1:16352] 49 41 24 27 40 30 26 64 41 39 ...\n $ Away.Team   : chr [1:16352] \"Carlton\" \"St Kilda\" \"Essendon\" \"Melbourne\" ...\n $ Away.Goals  : int [1:16352] 2 2 7 6 5 8 10 3 5 7 ...\n $ Away.Behinds: int [1:16352] 4 4 5 8 6 2 6 1 7 8 ...\n $ Away.Points : int [1:16352] 16 16 47 44 36 50 66 19 37 50 ...\n $ Venue       : chr [1:16352] \"Brunswick St\" \"Victoria Park\" \"Corio Oval\" \"Lake Oval\" ...\n $ Margin      : int [1:16352] 33 25 -23 -17 4 -20 -40 45 4 -11 ...\n $ Season      : num [1:16352] 1897 1897 1897 1897 1897 ...\n $ Round.Type  : chr [1:16352] \"Regular\" \"Regular\" \"Regular\" \"Regular\" ...\n $ Round.Number: int [1:16352] 1 1 1 1 2 2 2 2 3 3 ...\n\n\nWhile inspecting the results we may note that certain key match-level information (e.g. quarter-by-quarter scores) for answering some of our questions is missing from it. As it turns out, this data is actually available on the player_stats_afl_tables data (one row per player per match) instead. Thus, we will opt to create a ‘flattened’ version of player_stats_afl_tables with all the match-level fields available to use on both datasets and discard the results dataset (save for some quick checks to make sure the player data ‘flattening’ worked as expected).\nNow, let’s take a look at the player_stats_afl_tables dataset to determine which fields are player-level and which are match-level.\n\n\nCode\nOutput\n\n\n\n\nstr(player_stats)\n\nNote that the output has been placed into another tab as it is rather long.\n\n\n\n\ntibble [663,115 × 59] (S3: tbl_df/tbl/data.frame)\n $ Season                 : num [1:663115] 1897 1897 1897 1897 1897 ...\n $ Round                  : chr [1:663115] \"1\" \"1\" \"1\" \"1\" ...\n $ Date                   : Date[1:663115], format: \"1897-05-08\" \"1897-05-08\" ...\n $ Local.start.time       : int [1:663115] 1500 1500 1500 1500 1500 1500 1500 1500 1500 1500 ...\n $ Venue                  : chr [1:663115] \"Brunswick St\" \"Brunswick St\" \"Brunswick St\" \"Brunswick St\" ...\n $ Attendance             : num [1:663115] 3000 3000 3000 3000 3000 3000 3000 3000 3000 3000 ...\n $ Home.team              : chr [1:663115] \"Fitzroy\" \"Fitzroy\" \"Fitzroy\" \"Fitzroy\" ...\n $ HQ1G                   : int [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ HQ1B                   : int [1:663115] 5 5 5 5 5 5 5 5 5 5 ...\n $ HQ2G                   : int [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ HQ2B                   : int [1:663115] 11 11 11 11 11 11 11 11 11 11 ...\n $ HQ3G                   : int [1:663115] 5 5 5 5 5 5 5 5 5 5 ...\n $ HQ3B                   : int [1:663115] 13 13 13 13 13 13 13 13 13 13 ...\n $ HQ4G                   : int [1:663115] 6 6 6 6 6 6 6 6 6 6 ...\n $ HQ4B                   : int [1:663115] 13 13 13 13 13 13 13 13 13 13 ...\n $ Home.score             : int [1:663115] 49 49 49 49 49 49 49 49 49 49 ...\n $ Away.team              : chr [1:663115] \"Carlton\" \"Carlton\" \"Carlton\" \"Carlton\" ...\n $ AQ1G                   : int [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ AQ1B                   : int [1:663115] 3 3 3 3 3 3 3 3 3 3 ...\n $ AQ2G                   : int [1:663115] 1 1 1 1 1 1 1 1 1 1 ...\n $ AQ2B                   : int [1:663115] 3 3 3 3 3 3 3 3 3 3 ...\n $ AQ3G                   : int [1:663115] 2 2 2 2 2 2 2 2 2 2 ...\n $ AQ3B                   : int [1:663115] 3 3 3 3 3 3 3 3 3 3 ...\n $ AQ4G                   : int [1:663115] 2 2 2 2 2 2 2 2 2 2 ...\n $ AQ4B                   : int [1:663115] 4 4 4 4 4 4 4 4 4 4 ...\n $ Away.score             : int [1:663115] 16 16 16 16 16 16 16 16 16 16 ...\n $ First.name             : chr [1:663115] \"Bill\" \"Jimmy\" \"Bob\" \"Tom\" ...\n $ Surname                : chr [1:663115] \"Ahern\" \"Aitken\" \"Armstrong\" \"Blake\" ...\n $ ID                     : num [1:663115] 4415 4416 4417 4419 4421 ...\n $ Jumper.No.             : chr [1:663115] \"0\" \"0\" \"0\" \"0\" ...\n $ Playing.for            : chr [1:663115] \"Carlton\" \"Carlton\" \"Carlton\" \"Carlton\" ...\n $ Kicks                  : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Marks                  : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Handballs              : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Goals                  : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Behinds                : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Hit.Outs               : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Tackles                : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Rebounds               : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Inside.50s             : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Clearances             : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Clangers               : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Frees.For              : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Frees.Against          : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Brownlow.Votes         : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Contested.Possessions  : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Uncontested.Possessions: num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Contested.Marks        : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Marks.Inside.50        : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ One.Percenters         : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Bounces                : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Goal.Assists           : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Time.on.Ground..       : num [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Substitute             : int [1:663115] 0 0 0 0 0 0 0 0 0 0 ...\n $ Umpire.1               : chr [1:663115] \"Samuel Hood\" \"Samuel Hood\" \"Samuel Hood\" \"Samuel Hood\" ...\n $ Umpire.2               : chr [1:663115] \"\" \"\" \"\" \"\" ...\n $ Umpire.3               : chr [1:663115] \"\" \"\" \"\" \"\" ...\n $ Umpire.4               : chr [1:663115] \"\" \"\" \"\" \"\" ...\n $ group_id               : int [1:663115] 2 2 2 2 2 2 2 2 2 2 ...\n\n\n\n\n\nInspecting the fields and using some knowledge of the game, we can determine that the following fields are player-level:\n\nplayer_level_fields &lt;- c(\n  \"First.name\", \"Surname\", \"ID\", \"Jumper.No.\", \"Playing.for\", \"Kicks\", \"Marks\", \n  \"Handballs\", \"Goals\", \"Behinds\", \"Hit.Outs\", \"Tackles\", \"Rebounds\", \"Inside.50s\", \n  \"Clearances\", \"Clangers\", \"Frees.For\", \"Frees.Against\", \"Brownlow.Votes\", \n  \"Contested.Possessions\", \"Uncontested.Possessions\", \"Contested.Marks\", \n  \"Marks.Inside.50\", \"One.Percenters\", \"Bounces\", \"Goal.Assists\", \"Time.on.Ground..\",\n  \"Substitute\"\n  )\n\nmatch_level_fields &lt;- setdiff(colnames(player_stats), player_level_fields)\n\nWe can now safely group and aggregate by the match_level_fields below:\n\n\nTidyverse\ndata.table\n\n\n\n\nplayer_stats_tb |&gt; \n  mutate(\n    home_player = Playing.for == Home.team,\n    away_player = Playing.for == Away.team\n  ) |&gt; \n  group_by(pick(all_of(match_level_fields))) |&gt; \n  summarise(\n    player_count = n(),\n    home_kicks = sum(Kicks * home_player),\n    away_kicks = sum(Kicks * away_player),\n    home_marks = sum(Marks * home_player),\n    away_marks = sum(Marks * away_player),\n    home_handballs = sum(Handballs * home_player),\n    away_handballs = sum(Handballs * away_player),\n    home_hit_outs = sum(Hit.Outs * home_player),\n    away_hit_outs = sum(Hit.Outs * away_player),\n    home_tackles = sum(Tackles * home_player),\n    away_tackles = sum(Tackles * away_player),\n    home_rebounds = sum(Rebounds * home_player),\n    away_rebounds = sum(Rebounds * away_player),\n    home_inside_50s = sum(Inside.50s * home_player),\n    away_inside_50s = sum(Inside.50s * away_player),\n    home_clearances = sum(Clearances * home_player),\n    away_clearances = sum(Clearances * away_player),\n    home_clangers = sum(Clangers * home_player),\n    away_clangers = sum(Clangers * away_player),\n    home_frees_for = sum(Frees.For * home_player),\n    away_frees_for = sum(Frees.For * away_player),\n    home_frees_against = sum(Frees.Against * home_player),\n    away_frees_against = sum(Frees.Against * away_player),\n    home_contested_possessions = sum(Contested.Possessions * home_player),\n    away_contested_possessions = sum(Contested.Possessions * away_player),\n    home_uncontested_possessions = sum(Uncontested.Possessions * home_player),\n    away_uncontested_possessions = sum(Uncontested.Possessions * away_player),\n    home_contested_marks = sum(Contested.Marks * home_player),\n    away_contested_marks = sum(Contested.Marks * away_player),\n    home_marks_inside_50 = sum(Marks.Inside.50 * home_player),\n    away_marks_inside_50 = sum(Marks.Inside.50 * away_player),\n    home_one_percenters = sum(One.Percenters * home_player),\n    away_one_percenters = sum(One.Percenters * away_player),\n    home_bounces = sum(Bounces * home_player),\n    away_bounces = sum(Bounces * away_player),\n    home_goal_assists = sum(Goal.Assists * home_player),\n    away_goal_assists = sum(Goal.Assists * away_player),\n    .groups = \"drop\"\n  ) |&gt;\n  arrange(Date, Local.start.time, Home.team) -&gt; \n  match_stats_flat_tb\n\n# verify correct number of games:\nnrow(match_stats_flat_tb) == nrow(results_tb)\n\n[1] TRUE\n\n\n\n\n\nmatch_stats_flat_dt &lt;- copy(player_stats_dt)\n\nmatch_stats_flat_dt[, home_player := Playing.for == Home.team]\nmatch_stats_flat_dt[, away_player := Playing.for == Away.team]\n\nmatch_stats_flat_dt &lt;- match_stats_flat_dt[, .(\n  player_count = .N,\n  home_kicks = sum(Kicks * home_player),\n  away_kicks = sum(Kicks * away_player),\n  home_marks = sum(Marks * home_player),\n  away_marks = sum(Marks * away_player),\n  home_handballs = sum(Handballs * home_player),\n  away_handballs = sum(Handballs * away_player),\n  home_hit_outs = sum(Hit.Outs * home_player),\n  away_hit_outs = sum(Hit.Outs * away_player),\n  home_tackles = sum(Tackles * home_player),\n  away_tackles = sum(Tackles * away_player),\n  home_rebounds = sum(Rebounds * home_player),\n  away_rebounds = sum(Rebounds * away_player),\n  home_inside_50s = sum(Inside.50s * home_player),\n  away_inside_50s = sum(Inside.50s * away_player),\n  home_clearances = sum(Clearances * home_player),\n  away_clearances = sum(Clearances * away_player),\n  home_clangers = sum(Clangers * home_player),\n  away_clangers = sum(Clangers * away_player),\n  home_frees_for = sum(Frees.For * home_player),\n  away_frees_for = sum(Frees.For * away_player),\n  home_frees_against = sum(Frees.Against * home_player),\n  away_frees_against = sum(Frees.Against * away_player),\n  home_contested_possessions = sum(Contested.Possessions * home_player),\n  away_contested_possessions = sum(Contested.Possessions * away_player),\n  home_uncontested_possessions = sum(Uncontested.Possessions * home_player),\n  away_uncontested_possessions = sum(Uncontested.Possessions * away_player),\n  home_contested_marks = sum(Contested.Marks * home_player),\n  away_contested_marks = sum(Contested.Marks * away_player),\n  home_marks_inside_50 = sum(Marks.Inside.50 * home_player),\n  away_marks_inside_50 = sum(Marks.Inside.50 * away_player),\n  home_one_percenters = sum(One.Percenters * home_player),\n  away_one_percenters = sum(One.Percenters * away_player),\n  home_bounces = sum(Bounces * home_player),\n  away_bounces = sum(Bounces * away_player),\n  home_goal_assists = sum(Goal.Assists * home_player),\n  away_goal_assists = sum(Goal.Assists * away_player)\n), by = match_level_fields]\n\nsetorder(match_stats_flat_dt, Date, Local.start.time, Home.team)\n\n# verify outputs match:\nidentical(as.data.frame(match_stats_flat_tb), as.data.frame(match_stats_flat_dt))\n\n[1] TRUE\n\n\n\n\n\nHenceforth, player_stats_* and match_stats_flat_* will be the two datasets we will use predominantly."
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#ids-and-urls",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#ids-and-urls",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "IDs and URLs",
    "text": "IDs and URLs\nOne thing that our match_stats_flat_* dataset is currently lacking is a game ID for use as a primary key. In addition, being able to link directly to AFL tables when talking about a particular game or player would be handy.\nGame ID and URL\nLet’s tackle the game ID by writing some functions to an ID which also conveniently lines up with the way AFL Tables game URLs work (two birds with one stone).\n\nteam_code_map &lt;- c(\n  \"Adelaide\" = \"01\",\n  \"Adelaide Crows\" = \"01\",\n  \"Brisbane Bears\" = \"02\",\n  \"Carlton\" = \"03\",\n  \"Collingwood\" = \"04\",\n  \"Essendon\" = \"05\",\n  \"Fitzroy\" = \"06\",\n  \"Western Bulldogs\" = \"07\",\n  \"Fremantle\" = \"08\",\n  \"Geelong\" = \"09\",\n  \"Geelong Cats\" = \"09\",\n  \"Hawthorn\" = \"10\",\n  \"Melbourne\" = \"11\",\n  \"North Melbourne\" = \"12\",\n  \"Port Adelaide\" = \"13\",\n  \"Richmond\" = \"14\",\n  \"St Kilda\" = \"15\",\n  \"Sydney\" = \"16\",\n  \"Sydney Swans\" = \"16\",\n  \"University\" = \"17\",\n  \"West Coast\" = \"18\",\n  \"West Coast Eagles\" = \"18\",\n  \"Brisbane Lions\" = \"19\",\n  \"Gold Coast\" = \"20\",\n  \"Gold Coast Suns\" = \"20\",\n  \"Greater Western Sydney\" = \"21\",\n  \"GWS Giants\" = \"21\"\n)\n\n# The three functions below are all vectorised for efficiency purposes\nget_team_code &lt;- function(team_name) {\n unname(team_code_map[team_name])\n}\n\nget_game_id &lt;- function(home_team_code, away_team_code, game_date) {\n  # example ID: 161820230624\n  game_date_string &lt;- format(game_date, \"%Y%m%d\")\n  \n  ifelse(\n    home_team_code &gt; away_team_code, \n    # the smaller code is always first\n    paste0(away_team_code, home_team_code, game_date_string),\n    paste0(home_team_code, away_team_code, game_date_string)\n    )\n}\n\nget_game_afltables_url &lt;- function(game_id, season) {\n  # example url: https://afltables.com/afl/stats/games/2023/161820230624.html\n  paste0(\"https://afltables.com/afl/stats/games/\", season,\"/\", game_id, \".html\")\n}\n\nNow lets use these functions23 to add a primary key to our match_stats_flat_* datasets.23 Note that as the functions are vectorised, we need not use the slow purrr::map*() or *apply() family of functions to apply them to a column of our tibble and data.table respectively.\n\n\nTidyverse\ndata.table\n\n\n\n\nmatch_stats_flat_tb |&gt; \n  mutate(\n    home_team_code = get_team_code(Home.team),\n    away_team_code = get_team_code(Away.team),\n    game_id = get_game_id(home_team_code, away_team_code, Date),\n    game_afltables_url = get_game_afltables_url(game_id, Season)\n  ) |&gt; \n  relocate(game_id, .before = Season) |&gt; \n  arrange(game_id) -&gt;\n  match_stats_flat_tb\n\n\n\n\nmatch_stats_flat_dt[, home_team_code := get_team_code(Home.team)]\nmatch_stats_flat_dt[, away_team_code := get_team_code(Away.team)]\nmatch_stats_flat_dt[, game_id := get_game_id(home_team_code, away_team_code, Date)]\nmatch_stats_flat_dt[, game_afltables_url := get_game_afltables_url(game_id, Season)]\n\nsetcolorder(match_stats_flat_dt, c(\"game_id\", setdiff(names(match_stats_flat_dt), \"game_id\")))\nsetkey(match_stats_flat_dt, game_id)\n\n# verify outputs match:\nidentical(as.data.frame(match_stats_flat_tb), as.data.frame(match_stats_flat_dt))\n\n[1] TRUE\n\n\n\n\n\nPlayer URLs\nIn a similar way we can add a player URL to our player_stats_* datasets, we start by creating a mapping table.\n\n\nTidyverse\ndata.table\n\n\n\n\n# non-duplicate URL: https://afltables.com/afl/stats/players/E/Errol_Gulden.html\n# duplicate URL: https://afltables.com/afl/stats/players/J/Josh_Kennedy0.html, https://afltables.com/afl/stats/players/J/Josh_Kennedy1.html\n# for dealing with duplicates, for example Peter Brown (6 of the same name!) seems to have a nonsensical order\nplayer_stats_tb |&gt; \n  mutate(full_name = paste(First.name, Surname, sep = \"_\")) |&gt; \n  distinct(ID, full_name) |&gt; \n  group_by(full_name) |&gt; \n  arrange(ID) |&gt;\n  mutate(\n    instance_number = as.character(cumsum(rep(1L, n())) - 1L),\n    dup_count = n()\n  ) |&gt; \n  mutate(\n    number_suffix = if_else(dup_count == 1L, \"\", instance_number),\n    first_letter = str_sub(full_name, 1, 1),\n    player_afltables_url = paste0(\"https://afltables.com/afl/stats/players/\", \n                                  first_letter, \"/\", full_name, number_suffix, \".html\")\n  ) |&gt; \n  ungroup() |&gt; \n  select(ID, player_afltables_url) -&gt;\n  player_url_tb\n\n\n\n\nplayer_url_dt &lt;- copy(player_stats_dt)\n\nplayer_url_dt[, full_name := paste(First.name, Surname, sep = \"_\")]\nplayer_url_dt &lt;- unique(player_url_dt, by = c(\"ID\", \"full_name\"))\nsetorder(player_url_dt, ID)\nplayer_url_dt &lt;- player_url_dt[, `:=`(\n  instance_number = as.character(cumsum(rep(1L, .N)) - 1L),\n  dup_count = .N\n), \"full_name\"]\n\nplayer_url_dt[, number_suffix := fifelse((dup_count == 1L), \"\", instance_number)]\nplayer_url_dt[, first_letter := str_sub(full_name, 1, 1)]\nplayer_url_dt[, player_afltables_url := paste0(\"https://afltables.com/afl/stats/players/\", \n                                     first_letter, \"/\", full_name, number_suffix, \".html\")]\nplayer_url_dt &lt;- player_url_dt[, .(ID, player_afltables_url)]\n\n# verify outputs match:\nidentical(as.data.frame(player_url_tb), as.data.frame(player_url_dt))\n\n[1] TRUE\n\n\n\n\n\nNow we can add add the game ID, game URL and player URL to the player_stats_* dataset.\n\n\nTidyverse\ndata.table\n\n\n\n\nplayer_stats_tb &lt;- as_tibble(player_stats) # copied from above\n\nplayer_stats_tb |&gt; \n  mutate(\n    home_team_code = get_team_code(Home.team),\n    away_team_code = get_team_code(Away.team),\n    game_id = get_game_id(home_team_code, away_team_code, Date),\n    player = paste0(First.name, \" \", Surname, \" (\", Playing.for,\")\")\n  ) |&gt; \n  left_join(match_stats_flat_tb |&gt; select(game_id, game_afltables_url), by = \"game_id\") |&gt; \n  left_join(player_url_tb, by = \"ID\") |&gt; \n  relocate(c(\"game_id\", \"player\", \"ID\"), .before = Season) |&gt;\n  arrange(game_id, Playing.for, ID) -&gt;\n  player_stats_tb\n\n\n\n\nplayer_stats_dt &lt;- as.data.table(player_stats) # copied from above\n\nplayer_stats_dt[, home_team_code := get_team_code(Home.team)]\nplayer_stats_dt[, away_team_code := get_team_code(Away.team)]\nplayer_stats_dt[, game_id := get_game_id(home_team_code, away_team_code, Date)]\nplayer_stats_dt[, player := paste0(First.name, \" \", Surname, \" (\", Playing.for,\")\")]\n\nplayer_stats_dt &lt;- merge(\n  player_stats_dt, match_stats_flat_dt[, c(\"game_id\", \"game_afltables_url\")], \n  by = \"game_id\")\n\nplayer_stats_dt &lt;- merge(player_stats_dt, player_url_dt, by = \"ID\")\n\nsetcolorder(player_stats_dt, c(c(\"game_id\", \"player\"), setdiff(names(player_stats_dt), c(\"game_id\", \"player\"))))\nsetkey(player_stats_dt, game_id, Playing.for, ID)\n# verify outputs match:\nidentical(as.data.frame(player_stats_tb), as.data.frame(player_stats_dt))\n\n[1] TRUE"
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#finding-the-infamous-game",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#finding-the-infamous-game",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Finding the Infamous Game",
    "text": "Finding the Infamous Game\nLet’s use these new datasets to perform the simple exercise of obtaining the game ID for the aforementioned Swans versus Eagles game. We can henceforth use this game ID whenever relevant to rank the Swans in the statistical category we investigate.\n\n(\n  infamous_game_id &lt;- get_game_id(\n    home_team_code = get_team_code(\"Sydney\"),\n    away_team_code = get_team_code(\"West Coast\"),\n    game_date = as.Date(\"2023-06-24\")\n  )\n)\n\n[1] \"161820230624\"\n\n\nWe can then filter the data and present it below in a table below24.24 note that the code to format the table is omitted.\n\n\nTidyverse\ndata.table\n\n\n\n\nmatch_stats_flat_tb |&gt; \n  filter(game_id == infamous_game_id)\n\n\n\n\nmatch_stats_flat_dt[game_id == infamous_game_id, ]\n\n\n\n\nMatch Stats\n\n\n\n\n\n\n\n\nPlayer Stats\n\n\nTidyverse\ndata.table\n\n\n\n\nplayer_stats_tb |&gt; \n  filter(game_id == infamous_game_id)\n\n\n\n\nplayer_stats_dt[game_id == infamous_game_id, ]"
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#highest-scoring-quarter",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#highest-scoring-quarter",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Highest Scoring Quarter",
    "text": "Highest Scoring Quarter\nAs listed above, our first question was:\n\nWhat is the record for the highest scoring quarter?\n\n\nNot that there is already a page on this topic on AFL Tables, but it is a good one to start with regardless.\n\nTo answer this question, we will begin by creating a reshaped version of the match_stats_flat_* dataset that is structured around quarters.\n\n\nTidyverse\ndata.table\n\n\n\n\ngame_level_columns &lt;- c(\"game_id\", \"game_afltables_url\", \"Season\", \"Round\", \"Venue\", \"Home.team\", \"Away.team\", \"Home.score\", \"Away.score\")\n\nmatch_stats_flat_tb |&gt; \n  select(all_of(game_level_columns), starts_with(\"HQ\"), starts_with(\"AQ\")) |&gt; \n  pivot_longer(cols = c(starts_with(\"HQ\"), starts_with(\"AQ\")), names_to = \"quarter_gb\", values_to = \"gb_count\") |&gt;\n  mutate(\n    quarter = str_extract(quarter_gb, \"\\\\d\"),\n    gb_label = if_else(str_detect(quarter_gb, \"G$\"), \"goals\", \"behinds\"),\n    is_home_score = str_detect(quarter_gb, \"^H\")\n    ) |&gt;\n  pivot_wider(id_cols = all_of(c(game_level_columns, \"quarter\", \"is_home_score\")), names_from = gb_label, values_from = gb_count) |&gt;\n  arrange(game_id, is_home_score, quarter) |&gt; \n  group_by(game_id, is_home_score) |&gt; \n  mutate(# make quarters incremental\n    goals = c(head(goals, 1), diff(goals)),\n    behinds = c(head(behinds, 1), diff(behinds))\n  ) |&gt; \n  ungroup() |&gt; \n  mutate(\n    score = goals * 6 + behinds,\n    team = if_else(is_home_score, Home.team, Away.team),\n    opposition = if_else(!is_home_score, Home.team, Away.team)\n    ) |&gt; \n  select(-is_home_score) -&gt; quarter_stats_tb\n\n\n\n\ngame_level_columns &lt;- c(\"game_id\", \"game_afltables_url\", \"Season\", \"Round\", \"Venue\", \"Home.team\", \"Away.team\", \"Home.score\", \"Away.score\")\n\nquarter_stats_dt &lt;- copy(match_stats_flat_dt)\nquarter_stats_dt &lt;- quarter_stats_dt[, .SD, .SDcols = names(quarter_stats_dt) %like% paste(\n  paste(game_level_columns, collapse = \"|\"), \"^HQ\", \"^AQ\", \n  sep = \"|\")]\nquarter_stats_dt &lt;- melt(quarter_stats_dt, id.vars = game_level_columns, variable.name =  \"quarter_gb\", value.name = \"gb_count\")\n\nquarter_stats_dt[, quarter := str_extract(quarter_gb, \"\\\\d\")]\nquarter_stats_dt[, gb_label := fifelse(str_detect(quarter_gb, \"G$\"), \"goals\", \"behinds\")]\nquarter_stats_dt[, is_home_score := str_detect(quarter_gb, \"^H\")]\n\nquarter_stats_dt[, quarter_gb:=NULL]\nquarter_stats_dt &lt;- dcast(quarter_stats_dt, ... ~ gb_label, value.var = \"gb_count\")\n\n# make quarters incremental\nsetorder(quarter_stats_dt, game_id, is_home_score, quarter)\nquarter_stats_dt[, goals := c(head(goals, 1), diff(goals)), c(\"game_id\", \"is_home_score\")]\nquarter_stats_dt[, behinds := c(head(behinds, 1), diff(behinds)), c(\"game_id\", \"is_home_score\")]\n\nquarter_stats_dt[, score := goals * 6 + behinds]\nquarter_stats_dt[, team := fifelse(is_home_score, Home.team, Away.team)]\nquarter_stats_dt[, opposition := fifelse(!is_home_score, Home.team, Away.team)]\n\nquarter_stats_dt &lt;- quarter_stats_dt[, .SD, .SDcols = c(game_level_columns, c(\"quarter\", \"goals\", \"behinds\", \"score\", \"team\", \"opposition\"))]\n\n# verify outputs match:\nidentical(as.data.frame(quarter_stats_tb), as.data.frame(quarter_stats_dt))\n\n[1] TRUE\n\n\n\n\n\nWe will answer this question for each quarter (first, second, third and fourth), as well as overall. This means we we will be repeating the same process five times, so this calls for writing a function. The function will give us the top 5 scoring quarters, as well as ranking for the aforementioned infamous game on the all time list of quarters.\n\n\nTidyverse\ndata.table\n\n\n\n\nget_top_quarter_scores_tb &lt;- function(data, quarter_selection) {\n  data |&gt; \n    filter(quarter %in% quarter_selection) |&gt;\n    arrange(desc(score)) |&gt; \n    mutate(rank = seq_along(team)) |&gt; \n    filter(rank %in% 1:5 | (game_id == infamous_game_id & team == \"Sydney\")) |&gt; \n    select(rank, team, opposition, score, quarter, Season, Round, Venue, game_afltables_url, game_id)\n}\n\n\n\n\nget_top_quarter_scores_dt &lt;- function(data, quarter_selection) {\n  top_quarters_q1_dt &lt;- copy(quarter_stats_dt)\n  top_quarters_q1_dt &lt;- top_quarters_q1_dt[\n    quarter %in% quarter_selection, ]\n  setorder(top_quarters_q1_dt, -score)\n  top_quarters_q1_dt[, rank := seq_along(team)]\n  top_quarters_q1_dt[rank %in% 1:5 | (game_id == infamous_game_id & team == \"Sydney\"), \n                     .(rank, team, opposition, score, quarter, Season, Round, Venue, game_afltables_url, game_id)]\n}\n\n\n\n\n\n\n\nFirst Quarter\n\n\nTidyverse\ndata.table\n\n\n\n\ntop_quarter_scores_q1_tb &lt;- get_top_quarter_scores_tb(quarter_stats_tb, 1L)\n\n\n\n\ntop_quarter_scores_q1_dt &lt;- get_top_quarter_scores_dt(quarter_stats_tb, 1L)\n# verify outputs match:\nidentical(as.data.frame(top_quarter_scores_q1_tb), as.data.frame(top_quarter_scores_q1_dt))\n\n[1] TRUE\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe record for the highest-scoring first quarter occurred during the bloodbath of an encounter that was the Bombers’ first ever clash with the Gary Ablett Junior-led Gold Coast Suns in their inaugural season in the AFL. The Bombers came out of the blocks in a flash and mercilessly obliterated the inexperienced Gold Coast side, notching up a 93 point lead at quarter time. Interestingly, the Sun actually managed to win the second quarter as the Bombers appeared to take there foot off the gas a little to only win by 139 points when all was said and done.\n\nPerhaps the Suns’ lethargy in the first quarter against the Dons can be explained as a hangover25 following on from their first ever win the previous week26. It is exciting to me that this is a game that I can remember watching on the television at the time, it may have even been the first Gold Coast game I ever watched27. Footy is full of narratives and it fun to spin one around this particular game (the context and stories make footy stats even more fun).25 As a club with an abundance of 18 or 19 year old blokes living out of home for the first time, the Suns were known to over-indulge in the Gold Coast party culture in those days.26 Courtesy of a (missed) shot at goal after the siren from Justin Westhoff.27 I am glad that I didn’t give up on watching them after that (mainly due to Gary Ablett I will admit) because otherwise I would have missed unbelievable goals like this.\nSecond Quarter\n\n\nTidyverse\ndata.table\n\n\n\n\ntop_quarter_scores_q2_tb &lt;- get_top_quarter_scores_tb(quarter_stats_tb, 2L)\n\n\n\n\ntop_quarter_scores_q2_dt &lt;- get_top_quarter_scores_dt(quarter_stats_tb, 2L)\n# verify outputs match:\nidentical(as.data.frame(top_quarter_scores_q2_tb), as.data.frame(top_quarter_scores_q2_dt))\n\n[1] TRUE\n\n\n\n\n\n\n\n\n\n\n\n\n\nFrom one teams’ first season, to another’s last. It is quite fitting (although a little sad) that the highest scoring second quarter was against a floundering (aforementioned) fitzRoy Football Club (to which we owe the ease with which we obtained this data) en-route to a wooden spoon in their final season prior to merging with Brisbane Bears to form the Brisbane Lions.\nAs I was not yet born, I do not remember the game, but on the video below, the commentator shrewdly points to a strong wind prevailing towards the Crows’ goal at the beginning of the second quarter which certainly didn’t bode well for the Lions.\n\nThird Quarter\n\n\nTidyverse\ndata.table\n\n\n\n\ntop_quarter_scores_q3_tb &lt;- get_top_quarter_scores_tb(quarter_stats_tb, 3L)\n\n\n\n\ntop_quarter_scores_q3_dt &lt;- get_top_quarter_scores_dt(quarter_stats_tb, 3L)\n# verify outputs match:\nidentical(as.data.frame(top_quarter_scores_q3_tb), as.data.frame(top_quarter_scores_q3_dt))\n\n[1] TRUE\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe Swans’ third quarter appears in 28th position here, which is the best position it gets. The game on top, the Bombers had a very even distribution of goal-kickers and kicked 32 goals so they may appear later in our list of multiple goal kickers question.\nFourth Quarter\n\n\nTidyverse\ndata.table\n\n\n\n\ntop_quarter_scores_q4_tb &lt;- get_top_quarter_scores_tb(quarter_stats_tb, 4L)\n\n\n\n\ntop_quarter_scores_q4_dt &lt;- get_top_quarter_scores_dt(quarter_stats_tb, 4L)\n# verify outputs match:\nidentical(as.data.frame(top_quarter_scores_q4_tb), as.data.frame(top_quarter_scores_q4_dt))\n\n[1] TRUE\n\n\n\n\n\n\n\n\n\n\n\n\n\nWell this was slightly unexpected, the Bloods28 came home like a freight train against the woeful Saints in a game that took place over 100 years ago. It is also the only quarter in AFL history that has notched up a ton. Upon seeing this, given it’s vintage, I though that perhaps the story of this game might have been lost to time but the Swans have a most insightful article up on their website about it. The explanation it provides is that St Kilda were undermanned through a combination of injury and player protest on account of off-field disputes. It is safe to say that the “Bloods” showed them no mercy.28 Incorrectly labelled here as “Sydney” in the table above because at the time they resided in South Melbourne (they relocated to Sydney in 1982), they were also known as the “Bloods” prior to adopting their current Swans mascot in 1933 due to the number of Western Australians in the side (as a WA boy I couldn’t help mentioning this)\nAll Quarters\n\n\nTidyverse\ndata.table\n\n\n\n\ntop_quarter_scores_tb &lt;- get_top_quarter_scores_tb(quarter_stats_tb, 1L:4L)\n\n\n\n\ntop_quarter_scores_dt &lt;- get_top_quarter_scores_dt(quarter_stats_tb, 1L:4L)\n# verify outputs match:\nidentical(as.data.frame(top_quarter_scores_tb), as.data.frame(top_quarter_scores_dt))\n\n[1] TRUE\n\n\n\n\n\n\n\n\n\n\n\n\n\nIn the infamous game, the Swans’ third (premiership) quarter was the only one that reached the top 100 quarters of all time. The fact that no quarter was even close to the the top indicates that the Swans were very consistent through-out the game. To use a cliche, they put in a consistent four-quarter effort and I suppose the Eagles were consistent too (consistently dismal)."
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#most-goal-kickers",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#most-goal-kickers",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Most Goal-kickers",
    "text": "Most Goal-kickers\nThree of the aforementioned questions concern goal kickers. We can therefore write a function that can generalise our approach like we did for the previous question.\nThese questions were:\n\nWhat is the record for the most individual goal kickers in a single game?\n\n\nWhat is the record for the most multiple goal kickers in a single game?\n\n\nWhat is the record for the most players kicking five or more goals in a single game (i.e. the most “bags”)?\n\nThe Swans game appeared to have a rather even distribution of goal kickers in the infamous game, so it will be interesting to see where it places on the all time list in this category.\n\n\nTidyverse\ndata.table\n\n\n\n\nget_top_goal_scorers_tb &lt;- function(data, min_goals) {\ndata |&gt; \n  mutate(\n    team = Playing.for,\n    opposition = if_else(team == Home.team, Away.team, Home.team)\n  ) |&gt; \n  group_by(team, opposition, Season, Round, Venue, game_afltables_url, game_id, Date) |&gt; \n  summarise(\n    goal_kickers = sum(Goals &gt; min_goals),\n    .groups = \"drop\"\n  ) |&gt; \n  arrange(desc(goal_kickers), desc(Date)) |&gt; \n  mutate(rank = seq_along(game_id)) |&gt; \n  relocate(rank, .before = \"team\") |&gt; \n  relocate(goal_kickers, .before = \"Season\") |&gt; \n  filter(rank %in% 1:5|(game_id == infamous_game_id & team == \"Sydney\")) |&gt;\n  select(-Date)\n}\n\n\n\n\nget_top_goal_scorers_dt &lt;- function(data, min_goals) {\n  top_goal_scorers_dt &lt;- copy(data)\n  top_goal_scorers_dt[, team := Playing.for]\n  top_goal_scorers_dt[, opposition := fifelse(team == Home.team, Away.team, Home.team)]\n  \n  top_goal_scorers_dt &lt;- top_goal_scorers_dt[,.(goal_kickers = sum(Goals &gt; min_goals)),\n                                             c(\"team\", \"opposition\", \"Season\", \"Round\", \"Venue\", \n                                               \"game_afltables_url\", \"game_id\", \"Date\")]\n  setorder(top_goal_scorers_dt, -goal_kickers, -Date)\n  top_goal_scorers_dt[, rank := seq_along(game_id)]\n  \n  \n  top_goal_scorers_dt[rank %in% 1:5|(game_id == infamous_game_id & team == \"Sydney\"),\n                      .(rank, team, opposition, goal_kickers, Season, Round, Venue, \n                        game_afltables_url, game_id)]\n}\n\n\n\n\n\n\n\nIndividual\n\n\nTidyverse\ndata.table\n\n\n\n\ntop_goal_scorers_single_tb &lt;- get_top_goal_scorers_tb(player_stats_tb, 0L)\n\n\n\n\ntop_goal_scorers_single_dt &lt;- get_top_goal_scorers_dt(player_stats_dt, 0L)\n# verify outputs match:\nidentical(as.data.frame(top_goal_scorers_single_tb), as.data.frame(top_goal_scorers_single_dt))\n\n[1] TRUE\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe record for most goal kickers is actually tied by multiple teams. The most recent time this happened was in the Bulldogs’ 101 point drubbing of the Eagles last year29. The infamous game is a bit off the pace in 238th but 12 goal-kickers is still double a starting forward line.29 Yet another example of how poorly the Eagles have been done in 2022 and 2023\nMultiple\n\n\nTidyverse\ndata.table\n\n\n\n\ntop_goal_scorers_multiple_tb &lt;- get_top_goal_scorers_tb(player_stats_tb, 1L)\n\n\n\n\ntop_goal_scorers_multiple_dt &lt;- get_top_goal_scorers_dt(player_stats_dt, 1L)\n# verify outputs match:\nidentical(as.data.frame(top_goal_scorers_multiple_tb), as.data.frame(top_goal_scorers_multiple_dt))\n\n[1] TRUE\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe Swans game actually places equal 7th on the list of all time which is quite a notable result. It is also interesting that it was a similarly one-sided Swans game30 at the SCG that takes outright top spot. In that game (circa 1987) the human highlight reel Warwick Capper led all comers for the Swans with a bag of 6 snags.30 Full game, article\nFive or More (Bags)\n\n\nTidyverse\ndata.table\n\n\n\n\ntop_goal_scorers_bags_tb &lt;- get_top_goal_scorers_tb(player_stats_tb, 4L)\n\n\n\n\ntop_goal_scorers_bags_dt &lt;- get_top_goal_scorers_dt(player_stats_dt, 4L)\n# verify outputs match:\nidentical(as.data.frame(top_goal_scorers_bags_tb), as.data.frame(top_goal_scorers_bags_dt))\n\n[1] TRUE\n\n\n\n\n\n\n\n\n\n\n\n\n\nFour bags in one game has happened on two occasions, the most recent of which (in 1991) yet again featured the Fitzroy Lions, who were trounced by 157 points by the Hawks in North Hobart.\nThe list of bag-getters in this game makes for interesting reading, all were recognisable names (although one more for his family connections that his own merit). As one might expect, one of the bags was courtesy of Hawthorn spearhead Jason Duntall (6 snags), along with 7 apiece from WA boy Ben Allan31 and the three-time premiership player Darren Jarmon. Rounding out the 4 was a contribution of 5 snags from Paul Hudson, who is the son of Tasmanian footy legend Peter Hudson (how fitting that this game was played in Tassie) who averaged more than 5 goals a game himself (an incredible feat).31 Sorry I couldn’t help myself, he was also a Claremont Tiger (up the mighty Tiges)"
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#questions-about-questionable-disposal",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#questions-about-questionable-disposal",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Questions About Questionable Disposal",
    "text": "Questions About Questionable Disposal\nTwo of the questions concerned clangers and disposal efficiency:\n\nWhat is the record for the most clangers in a game?\n\n\nWhat is the record for the worst disposal efficiency in a game?\n\nThese statistics (which we will define below) are more advanced and have only been recorded more recently, so we will therefore have to check which data sources to use and what years they are available for.\nMost Clangers\nA clanger is defined as\n\nan absurd or embarrassing blunder.\n\nOr in more precise football statistics terms\n\nAn error made by a player resulting in a negative result for his side. Disposal clangers are any kick or handball that directly turns the ball over to the opposition. Frees and 50-metre penalties against, No Pressure Errors, Dropped Marks and Debits are all included in clangers.3232 Source (Champion Data)\n\nClanger data is available on the AFL Tables data from 1998 onwards, so we will have to make do with only recent memory.\n\n\nTidyverse\ndata.table\n\n\n\n\nplayer_stats_tb |&gt; \n  filter(!is.na(Clangers)) |&gt; \n  group_by(Home.team, Away.team, Season, Round, Venue, game_afltables_url, game_id) |&gt; \n  summarise(\n    clangers = sum(Clangers),\n    .groups = \"drop\"\n  ) |&gt; \n  arrange(desc(clangers), Season, Round) |&gt; \n  mutate(\n    rank = seq_along(clangers)\n  ) |&gt; \n  filter(rank %in% 1:5 | game_id == infamous_game_id) |&gt; \n  select(\n    rank, game_id, Home.team, Away.team, clangers, Season, Round, Venue, game_afltables_url\n  ) -&gt; most_clangers_tb\n\n\n\n\nmost_clangers_dt &lt;- copy(player_stats_dt)\nmost_clangers_dt &lt;- most_clangers_dt[!is.na(Clangers),]\nmost_clangers_dt &lt;- most_clangers_dt[, .(clangers = sum(Clangers)), c(\"Home.team\", \"Away.team\", \"Season\", \"Round\", \"Venue\", \"game_afltables_url\", \"game_id\")]\nsetorder(most_clangers_dt, -clangers, Season, Round)\nmost_clangers_dt[,rank := seq_along(clangers)]\nmost_clangers_dt &lt;- most_clangers_dt[rank %in% 1:5 | game_id == infamous_game_id,]\nmost_clangers_dt &lt;- most_clangers_dt[, .(rank, game_id, Home.team, Away.team, clangers, Season, Round, Venue, game_afltables_url)]\n# verify outputs match:\nidentical(as.data.table(most_clangers_tb), as.data.table(most_clangers_dt))\n\n[1] TRUE\n\n\n\n\n\n\n\n\n\n\n\n\n\nA lot of the games in the top 5 are from very recent years, probably highlighting the more recent trend in teams rolling the dice more with possession (high risk, high reward) as popularised by Richmond and adopted to great success of late by the Magpies. Having spot-checked a few examples, there is also a bit of a pattern of wet weather impacting these games it would seem.\nAlso notable in the top 5 is one of three games played in Shanghai as part of the AFL’s attempt at entering into the Chinese market between 2017 and 2019. While there was some rain about, one might presume from this that the Suns and Port didn’t put on a particularly impressive display of our game on that occasion, either that or they were putting on an entertaining show with plenty of high-risk, high-reward plays. The video highlights appear to be reasonably exciting, so I am going to assume the latter.\nWorst Disposal Efficiency\nDisposal efficiency is\n\nthe percentage of disposals that are effective.3333 Source (Champion Data)\n\nWhere effective disposal is any of:\n\n\nEffective handball: a handball to a teammate that hits the intended target.\nEffective Short Kick: A kick of less than 40 metres that results in the intended target retaining possession. Does not include kicks that are spoiled by the opposition.\nEffective Long Kick: A kick of more than 40 metres to a 50/50 contest or better for the team.34\n\n\n34 Source (Champion Data)\nNote how the distance of the disposal is an element of how lenient the definition of “effective” is.\nThis statistic requires our first (and only) use of the Fryzigg data, as disposal efficiency is not present on the AFL Tables data. While the Fryzigg data has the full history of the AFL, disposal efficiency is missing for seasons prior to 2012 onwards. We will therefore have to make do with answering this question only for about the past decade.\n\n\nTidyverse\ndata.table\n\n\n\n\nplayer_stats_fryzigg_tb |&gt; \n  filter(!is.na(disposal_efficiency_percentage)) |&gt; \n  mutate(\n    home_team_code = get_team_code(match_home_team),\n    away_team_code = get_team_code(match_away_team),\n    season = str_sub(match_date, 1, 4),\n    afl_tables_game_id = get_game_id(home_team_code, away_team_code, as.Date(match_date)),\n    afl_tables_url = get_game_afltables_url(afl_tables_game_id, season)\n  ) |&gt;\n  group_by(afl_tables_game_id, match_home_team, match_away_team, venue_name, season, match_round, afl_tables_url) |&gt; \n  summarise(\n    disposal_efficiency_game = sum(disposal_efficiency_percentage * disposals) / sum(disposals) / 100,\n    .groups = \"drop\"\n  ) |&gt; \n  arrange(disposal_efficiency_game) |&gt; \n  mutate(\n    rank = seq_along(disposal_efficiency_game)\n  ) |&gt; \n  filter(rank %in% 1:5 | afl_tables_game_id == infamous_game_id) |&gt; \n  select(\n    rank, afl_tables_game_id, match_home_team, match_away_team, disposal_efficiency_game, season, match_round, venue_name, afl_tables_url\n  ) -&gt; worst_disposal_efficiency_games_tb\n\n\n\n\nworst_disposal_efficiency_games_dt &lt;- copy(player_stats_fryzigg_dt)\nworst_disposal_efficiency_games_dt &lt;- worst_disposal_efficiency_games_dt[!is.na(disposal_efficiency_percentage), ]\nworst_disposal_efficiency_games_dt[, home_team_code := get_team_code(match_home_team)]\nworst_disposal_efficiency_games_dt[, away_team_code := get_team_code(match_away_team)]\nworst_disposal_efficiency_games_dt[, season := str_sub(match_date, 1, 4)]\nworst_disposal_efficiency_games_dt[, afl_tables_game_id := get_game_id(home_team_code, away_team_code, as.Date(match_date))]\nworst_disposal_efficiency_games_dt[, afl_tables_url := get_game_afltables_url(afl_tables_game_id, season)]\n\nworst_disposal_efficiency_games_dt &lt;- worst_disposal_efficiency_games_dt[,\n                                   .(disposal_efficiency_game = sum(disposal_efficiency_percentage * disposals) / sum(disposals) / 100),\n                                   c(\"afl_tables_game_id\", \"match_home_team\", \"match_away_team\", \"venue_name\", \"season\", \"match_round\", \"afl_tables_url\")\n                                   ]\n\nsetorder(worst_disposal_efficiency_games_dt, disposal_efficiency_game)\nworst_disposal_efficiency_games_dt[, rank := seq_along(disposal_efficiency_game)]\nworst_disposal_efficiency_games_dt &lt;- worst_disposal_efficiency_games_dt[rank %in% 1:5 | afl_tables_game_id == infamous_game_id,]\nworst_disposal_efficiency_games_dt &lt;- worst_disposal_efficiency_games_dt[, .(rank, afl_tables_game_id, match_home_team, match_away_team, disposal_efficiency_game, season, match_round, venue_name, afl_tables_url)]\n\n# verify outputs match:\nidentical(as.data.table(worst_disposal_efficiency_games_tb), as.data.table(worst_disposal_efficiency_games_dt))\n\n[1] TRUE\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe only game with less than 50% disposal efficiency was played in torrid conditions up in Cairns. Looking at the video highlights, the players were running through puddles the whole game. I have however seen equal or worse conditions in the past so it is somewhat curious that this was the worst by such a margin. For reference, Gold Coast were very poor that year, coming second last but the Roos came in a respectable ninth position (only one win and percentage outside the top 8), this also points to them probably winning this game if has been played in more favourable conditions but they still would have missed out on finals due to the mammoth percentage of the Cats that year. The “cleanest” player on the day was Jesse Joyce, who’s 8 touches came at 75% efficiency (however it was a rather low sample size).\nFurther disjointed musings:\n\nSeeing a game in 2018 is also a fun reminder of the last time the Eagles won a premiership which feels a long way off given the current predicament the club is in, in spite of their recent win against the also similarly languishing35 Roos last Sunday.\n\n35 But far more optimistic due to a combination of Clarko (he returns from his hiatus this week) and promising talent on their list such as Harry Sheezel\nIn the 20th century, the use of suburban grounds where the quality of the surface was subpar I am sure lead to far more games with lower disposal efficiency than this (muddy fields were far more common in those days).\nWe can’t entirely blame the players, given the conditions. Anyone who has kicked a footy around in the wet will know how much heavier and slipperier than usual it can get (it is often described as being like a bar of soap). By looking through old highlights packages of the top several games in this metric, all of them appear to have been impacted significantly by weather conditions.\nThe Fryzigg data actually has weather conditions as a field on it but it appears to be somewhat unreliable, when I cross referenced the games with match reports and highlights some of the “sunny” games turned out to be played in torrential rain.\nI also checked which players have the highest career kicking efficiency and it appears to be mostly defenders who probably inflate their numbers by getting involved in switches of play and chipping the ball around the back line. So we have to take this kind of metric with a grain of salt, there is a certain difficulty level with executing certain types of disposal (e.g. a kick inside 50) that it does not fully capture."
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#youngest-norm-smith-medalist",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#youngest-norm-smith-medalist",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Youngest Norm Smith Medalist",
    "text": "Youngest Norm Smith Medalist\nOur question regarding Norm Smith medallists from above reads:\n\nWho was the youngest player to win a Norm Smith Medal?\n\n\n\n\n\n\n\nBackground on the Norm Smith Medal\n\n\n\n\nThe Norm Smith Medal is awarded to the player who is adjudged best on ground in the AFL grand final.\nThe award is named after legendary Melbourne full forward of the 1940’s and coach of the 1950’s and 1960’s, Norm Smith. In his decorated career, he won a total of 10 premierships, 4 as a player, 6 as coach and all for the Melbourne football club (given Melbourne have only won 13 in their history, quite a feat). At the back end of his playing career, he spent two years as captain-coach (yes that was a thing at the time) of the Fitzroy football club (here they pop up again).\nThe Norm Smith medal is usually given to a player on the winning team but very occasionally, players have managed to win the award in a losing side. This has only happened 4 out of 45 times and the last time was Eagles (and Carlton) superstar Chris Judd in 2005.\nThe Norm Smith Medal was first instituted in 1979. Prior to this, there was no official award given however the media and fans of the day had their opinions of who the best on ground was in prior grand finals. While this article lists some “unofficial” best on ground performances in grand finals prior to 1979, I will stick with the official list. As a Western Australian, I would have no qualms with discarding the older, exclusively Victorian seasons particularly as this data is of dubious reliability.\n\n\n\nAs previously mentioned, Norm Smith Medal data is not available on fitzRoy, so we will have to scrape it with some of our own bespoke code36. The AFL website conveniently has a nice table, listing all the winners since the award began in 1979. We will supplement this with data from fitzRoy to figure out the level of experience of each player.36 This illustrates the fact that sometimes you need to stray outside of fitzRoy but it gives most of the footy data you could ever want.\n\n\n\n\n\n\nNo data.table code\n\n\n\nWhile all the other code has thus far been written in both tidyverse and data.table, I decided to leave it for this one as it was rather intricate and painful to perform the same process twice.\n\n\n\nnorm_smith_url &lt;- \"https://www.afl.com.au/stats/leaders-awards/norm-smith-medal\"\nnorm_smith_html &lt;- read_html(norm_smith_url)\n\nnorm_smith_html |&gt; \n  html_table(header = TRUE) |&gt; \n  _[[1]] |&gt; \n  mutate( #manually adjust to help mapping\n    Club = case_when(\n      Club == \"Geelong Cats\" ~ \"Geelong\",\n      Club == \"West Coast Eagles\" ~ \"West Coast\",\n      Club == \"Sydney Swans\" ~ \"Sydney\",\n      TRUE ~ Club\n    ),\n    Player = case_when(\n      Player == \"Billy Duckworth\" ~ \"Bill Duckworth\",\n      Player == \"Ryan O'Keefe\" ~ \"Ryan OKeefe\",\n      TRUE ~ Player \n    ),\n    Year = as.integer(str_sub(Year, 1, 4))\n  ) -&gt; norm_smith_tb\n\n# get the date of their first game\nplayer_stats_tb |&gt; \n  group_by(\n    player_afltables_url, Playing.for\n  ) |&gt; \n  summarise(\n    first_game_date = min(Date),\n    .groups = \"drop\"\n  ) -&gt; more_player_details\n\n# get games played to date\nplayer_stats_tb |&gt; \n  group_by(ID) |&gt; \n  arrange(Date) |&gt; \n  mutate(\n    games_played_to_date = seq_along(ID)\n  ) |&gt; \n  ungroup() -&gt; \n  player_stats_tb_games_played\n\n# get grand final information\nplayer_stats_tb_games_played |&gt;\n  filter(\n    Round == \"GF\",\n    Season &gt;= 1979\n  ) |&gt;\n  mutate(\n    player_name = paste(First.name, Surname),\n    on_winning_team = (Home.team == Playing.for &  Home.score &gt; Away.score) | (Away.team == Playing.for &  Home.score &lt; Away.score)\n  ) |&gt; \n  select(ID, player_name, Playing.for, game_afltables_url, player_afltables_url, grand_final_season = Season, grand_final_date = Date, games_played_to_date, on_winning_team) -&gt;\n  grand_final_tb\n\ngrand_final_tb |&gt; \n  select(grand_final_date) |&gt;\n  distinct() |&gt; \n  arrange(desc(grand_final_date)) |&gt; \n  pull(grand_final_date) -&gt;\n  grand_final_dates\n  \nplayer_details_tb |&gt; \n  mutate(\n    first_year = str_sub(Seasons, 1, 4)\n    ) -&gt; \n  player_details_tb_joinable\n\n\nnorm_smith_tb |&gt; \n  mutate(Date = grand_final_dates) |&gt; \n  left_join(\n    grand_final_tb, by = c(\"Player\" = \"player_name\", \"Club\" = \"Playing.for\", \"Date\" = \"grand_final_date\") \n  ) |&gt; \n  left_join(\n    more_player_details, by = c(\"player_afltables_url\", \"Club\" = \"Playing.for\")\n  ) |&gt; \n  mutate(\n    first_year = format(first_game_date, \"%Y\")\n  ) |&gt; \n  left_join(\n    player_details_tb_joinable, by = c(\"Player\", \"Club\" = \"Team\", \"first_year\")\n  ) |&gt;\n  mutate(\n    debut_age_years = as.integer(str_sub(Debut, 1, 2)),\n    debut_age_days = as.integer(str_remove_all(Debut, \".*y |d\")),\n    date_of_birth = first_game_date - years(debut_age_years) - days(debut_age_days),\n    age_at_grand_final = as.period(interval(start = date_of_birth, end = Date)),\n    age_at_grand_final_seconds = as.period(interval(start = date_of_birth, end = Date))\n  ) |&gt;\n  arrange(age_at_grand_final ) |&gt;\n  select(\n    Player, Club, Year, on_winning_team, games_played_to_date, age_at_grand_final, age_at_grand_final_seconds, player_afltables_url, game_afltables_url) -&gt; norm_smith_youngest_tb\n\n\n\n\n\n\n\n\n\nThe youngest player on the list is the inaugural winner, Wayne Harmes, who was only 19 years of age when he won the prestigious award. He is known for a legendary moment during this match where, towards the end of the fourth quarter, he ran down his own (errant) kick by sliding along the ground and tapping the ball to keep it in play, sending it into the path of his team mate Ken Sheldon who ran into the open goal. The goal ended up being a decisive one as the Blues came out as victors by only 5 points.\n\nThe most inexperienced in terms of games played was Maurice Rioli (father of Maurice Junior who is currently plying his trade at his old man’s club), member of the famous Rioli family of the Tiwi Islands which has uncannily produced a plethora of great footballers and premiership players. He was the first (and arguably the greatest) Rioli to ever play in the AFL/VFL. One caveat is that while at the time he had only played 21 VFL games, he was 24 years of age and had previously played 6 years of WAFL footy37 for South Fremantle, so he wasn’t your typical 21 game player, he was really in his prime.37 At this time (prior to a national competition), WAFL football (as well as the SANFL in South Australia) could be viewed as being at a similar level to the VFL (although VFL did benefit from having the larger population in Victoria as a talent pool). While these days, the WAFL is the tier below the AFL (like the English Championship is the to Premier League), at that time, it could instead be viewed as a competition that was the best within its own region (like Serie A is to La Liga)."
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#closing-remarks",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#closing-remarks",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Closing Remarks",
    "text": "Closing Remarks\nTo mention one last record, the margin of 171 in the infamous game is actually the equal 4th highest winning margin in a AFL/VFL game. Interestingly, the all-time record in this category comes full circle, being a game between the Fitzroy Lions and the Melbourne Demons back in 1979. Fittingly, the victor of this game, was our friends (for whom we owe the greatest gratitude for helping us import data), the mighty fitzRoy footy club by a whopping 190 points. So while they had their trials and tribulations as a club (some of which we have covered in this post), it is nice to finish with them on a high note.\nInterestingly, the aforementioned infamous game isn’t the record-holder (or even in the top 5) for any of our questions38 but it is only one of 31 games where a team has scored 200 points or more which is notable enough I think, particularly given I had the (mis-)fortune of witnessing such a rare event in the flesh. Perhaps we could dig deeper to find a record it holds (every game is uniquely remarkable in some way if you look hard enough) but I somehow find more satisfaction in it being a thought-provoking enough game to coax these questions out of us without it ever being the answer.38 the closest it came was in the most multiple goal kickers category at equal 7th"
  },
  {
    "objectID": "blog/2023/over-analysing-idle-footy-chat/index.html#notable-afl-stats-figures",
    "href": "blog/2023/over-analysing-idle-footy-chat/index.html#notable-afl-stats-figures",
    "title": "(Over-)Analysing Idle Footy Chat",
    "section": "Notable AFL Stats Figures",
    "text": "Notable AFL Stats Figures\nI will conclude by listing some people who are doing interesting work with AFL stats (often with heavy use of R and the fitzRoy package) to provide further motivation:\n\nfitzRoy: as outlined in this article, this R package is the de facto way of sourcing AFL data.\nUseless AFL Stats: a Facebook page which shares always interesting, sometimes abstract and often amusing AFL stats content. Liam Crow is their data scientist and posts some interesting content of his own on his website: https://www.crowdatascience.com.\nsquiggle.com.au: displays a bunch of people’s data-driven tipping models, many of which have websites and social media accounts where they do AFL stats.\nJaiden Popowski: is prominent in the AFL Fantasy community for the interesting data-driven analysis he produces.\nDFS Australia: has some great data-driven tools that provide insight on advanced stats commonly used in AFL Fantasy."
  },
  {
    "objectID": "blog/2023/responses/index.html",
    "href": "blog/2023/responses/index.html",
    "title": "Responses to ‘blogging.txt’",
    "section": "",
    "text": "brought to you by: https://ianwilliamcraig.bandcamp.com/album/a-forgetting-place\n\nDuly noted will give it a listen\n\n\n\ndo not write “welcome to my blog” on your blog\n\n\nverbose? hardly\n\n\ngeneralities: toggling reader mode (on desktop) simply collapses (and enables the ability to expand/collapse) the contents tab on the left. if it were to flatten formatting and widen the bounding box to use more screen real estate (as reader modes typically do) as it stands the feature is pointless and likely a stock bit of a package added as a “why not”\n\n\ncomments section is both not on the contents tab and requires a sign in from a different website, though likely one your readership is likely to have. this is a recipe for 0 feedback. i would have liked to post this entire text document publically and anonymously, and was denied this pleasure. rectify this.\n\n\ntext used for hyperlinks is not indexed in the search bar (search “boffins” to check this), neither is text in footnotes (search “gadget”)\n\n\nconversational tone taken throughout has divested your good sense on where to place commas, this will make up the bulk of adjustments. writing style leaves something to be desired but will endeavour to avoid correcting this, we know you have your ways. most of the comma-based corrections will place the comma inside the example text, while wording corrections will explain their placement outside the quotation to preserve easy ctrl-f-ing\n\n\nthough this article has been out for a couple of weeks, it’d be good if you could implement at least some of these changes while it is the only one present on your website. unfortunately, you only get one chance at a first impression, and that time is long past. judging by the views on the BT clip you shared, this article was read (or shared with) by about 10 people, 11 including me. i believe greater readership is possible.\n\n\n\n\n\nadjust the tone of the foreword marked “apologies for the delay” from apologetic to those who you have promised this work, to informing/warning the prospective reader of your particular idiosyncracies (if it is to be preserved at all). starting your first ever post with an apology for (not) writing it (well enough) is rarely a winning strategy. easiest way to do this is simply remove the heading and first two lines and simply call this a mission statement or reflection or examen or whatever you like. perhaps place it at the end of the article too.\n\n\n“I often have all the ideas in my head, but when it comes to putting them into nice, publishable words, it becomes a bit of a slog.” add comma + becomes. consider rewriting this. “nice, publishable words” is good but should be slotted into a better sentence\n\n\n“I commend anyone who actually reads the whole thing, but hopefully it’s also possible to jump around and only read the parts that interest you in particular using the table of contents.” added comma + it’s (“it’s” is short for “it is” whereas “its” is possessive, think about it in terms of the words “he’s” vs. “his” rather than the proper nouns that cause this confusion (“Tim’s” is not short for “Tim is”))\n\n\n“1 As a Western Australian this is how I define it (along with the majority of Australia) but I am aware that this term is reserved for rugby league in New South Wales and Queensland” footnotes in articles by convention are short and to the point and are typically used for references, if you have much to say it ought to be in the main body of the article or removed entirely. amend this for brevity and more earnest cruelty for easterners.\n\n\n““the most data rich sport on Earth”2,” should be a hyperlink\n\n\n“But what are us plebeians meant to do, bereft of such luxuries you might ask?” why is this quoted? remove the quotation formatting or “you might ask” from the end of this\n\n\n“The more savvy among us may find answers to slightly more edifying questions by performing pro gamer moves such as:” end with a colon or emdash (lol) to avoid colonspam, also too many qualifiers in one sentence, remove either “may” or “slightly”, what this article needs is a strong leader\n\n\n““What is the most disposals Zac Dawson had in a game”7;” text within quotation marks should start capitalised, and added an s to “disposals”\n\n\n““what is the record for the longest distance run in a game”.8” same as previous, also footnote should be hyperlinked for parity with previous, if possible. add a full stop too.\n\n\n“but some questions will still go unanswered.” this should be a new sentence, reading something like “Even so, the most complex questions will still go unanswered.”\n\n\nwould like to see some text early on framing the article more directly attempting to place this outlier of a game into the context of the full history of afl stats. from reading the whole thing this is obvious but it would be good to have that formalised early on, as well as the term “infamous game” used throughout to refer to the syd vs. wce game. add this in either the question list or concrete example sections\n\n\n“However, if you are a gadget-type operator9 like myself,” style guides will tell you to never start a sentence with “however”, these style guides are irrelevant nonsense. you do need a comma though\n\n\n“9 My footy tipping username is Gadget-type Operator and I often use other BT quotes for my username on other (even non-footy-related) accounts” hyperlinked the same video in both BT referencing footnotes\n\n\n“There are, of course, a multitude of tools and approaches to this, but in this post, I will be using R (my preferred programming language).” commas, for flavour\n\n\n“Target Audience Unclear” you said it fella. this section is quoted erroneously, and should probably should be put in place of/be incorporated into the “apologies for the delay” section\n\n\n“If we also consider that my usual footy-going companion (Saroop) and I are both actuaries by trade, it is safe to say that footy stats questions were flying left, right and centre on that gloomy (but not because of the weather) Saturday night at the SCG. The questions we posed did not just vanish into the aether either, I (with the idea of writing this article in mind) decided to record the more interesting (and doable) questions” some stylistic and readability suggestions - remove “if we also consider that” and replace with “as”, add “as pictured” or “pictured, right” to (Saroop), add an oxford comma to “left, right, and centre”, remove “it is safe to say that” and replace with “the”, replace “but not because of” with “though not due to”, remove the brackets around (with the idea of writing…) and add a comma beforehand instead, good usage of the archaic form of “aether”, no change\n\n\n“Disclaimer on the asterisk” section entirely defeats the point of an asterisk, place the explanation in the side panel with the footnotes (significantly shortened), or it its current position (slightly shortened), whatever you choose to do, the line “I have put an asterisk next to…” must be removed.\n\n\n“The first step in analysing AFL data is obtaining the data (the so-called”collection” phase). Our first thought…” repetition of the word “first” here is inadvisable, try “Before any analysis can take place, we must obtain the data we wish to work with” etc. etc. as you have begun the technical phase of the article you have taken on the tone of a tutorial rather than a conversation as previously, perhaps unconsiously, as if you expect the prospective reader to follow along. this is fine but should be done carefully and consistently, have a reread of these sections yourself to ensure this tone is maintained throughout sections where it ought to (we and our instead of i and my for example)\n\n\n“10 It is also (regrettably) the place of my birth but as a WA boy I don’t like to talk about the fact that my parents happened to be in Melbourne when I was born.” weird footnote just get rid of it\n\n\nwould like to note that i was the 1000th view on the fitzroy lions anthem video\n\n\n“fitzRoy R package” add a hyperlink to the documentation to the first usage of this and include the author/group’s name in that line\n\n\n“fitzRoy provides access to a number of footy data sources11…” could also be a hyperlink\n\n\n“12 Centre bounce attendances (CBAs) are a commonly-used metrics in AFL fantasy, coaches often look at tools such as this one to help with researching their trades.” remove s from “metrics”, change “coaches” to more generic terminology like “participants” (not participants specifically, that’s rubbish) or add the prefix “fantasy” to ensure such people are not confused with real actual coaches, no, i don’t care that the word before the comma is “fantasy”, you’re ostensibly writing this for data autists, footy fans or both, and only the both group will know implicitly what you mean. best rule of article writing is to assume your audience is retarded while constantly reassuring them that they’re hugely intelligent for being able to comprehend what you’re saying, they’ll never notice the condescension\n\n\n“Data Sources Table” - stick with me here:\n{\nclicking a column to sort the table twice should return the table to its original, unsorted state. currently there is no way to do this other than to refresh the page. paradoxically, the table is sorted in what appears to be a random order (almost certainly the order in which the data was entered into the table) and should instead be organised by one of the metrics of the columns by default (probably the data sources alphabetically). the first of these doesn’t actually matter and just annoys me, so implementing just the second should be enough\nwhen expanding the rows in the data source column, an extra row expands, granting further detail on what data the fitzRoy package calls. my question is, what is the “unqiue” column? why does it ruin the symmetry and cleanliness of this otherwise lovely table? the addition of a thick, ugly slide bar to 2 out of 5 rows is not worth the additional links, which could easily be footnotes or ommitted? why is “unique” misspelt?\nrow “Squiggle”, column “Speed of Fetch” rollover pop-up text: “indended to be slow” - was this indendional?\nadd some commas to the rollover pop-up text of the “AFL Tables” and “Footywire” rows in the “Level of Detail” column\n}\n\n\n“When sourcing data from fitzRoy, it is important to follow good data collection14 etiquette…” another hyperlink\n\n\nopportunity\n\n\n“…I use readRDS().” put this in brackets, or explain it more in a footnote (why? what is it? why should i care?), or get rid of it. probably the first one. also it’s a hyperlink, but isn’t orange? more on that later\n\n\n“16 Note that I have not written a base R dataframes version because I can see arguments for using both tidyverse and data.table but base R data.frames will probably cause more pain than they are worth (there is a reason that tidyverse and data.table exist)” added a comma, while this is already an unwieldy footnote, you have alluded to a third, inferior method to achieve your goals without explaining how it is inferior. should make it snappier or remove it, could change this sentence to something like “16 could also write this as a base r dataframes version, but trust me, it’s not worth it”\n\n\nmore general advice than specific but there’s a lot of “I have” and “I will” from this point forward. could shift some words around to feel less diaristic and repetitive\n\n\n“However this is add the _tb suffix18 to distinguish it from the data.table code.” i do not believe you had a proofreader besides me\n\n\n“The so-called pipe operator (%&gt; %) of the magrittr package has been a core staple of tidyverse since its inception, but since the R core team introduced the so-called native pipe (|&gt; ) to base R (in version 4.120), this has led to a split in adoption.” added comma\n\n\n“20 another cool thing introduced in this version of R was so-called function shorthand (()), see help(”function”) for more details” hyperlink in this footnote is not orange. need more formatting consistency. if you’d like to check your hyperlinks in future, easy way to do this is create a blank bookmark in chrome and paste this bit of javascript in as the URL (or write your own, since you can do that): javascript:(function(){for(i=0;i&lt;document.links.length;i++)document.links[i].style.backgroundColor=‘#ffff00’;})();\n\n\n“Note that the common RStudio shortcut, Ctrl+Shift+M can be changed from the magrittr pipe (%&gt; %), which is still the default, to the native pipe (|&gt; ).” why is this quoted?\n\n\nthe “webscraping package” section could be put with the fitzRoy section, no reason to bury the lede, ’specially since you’ve got a hyperlink back to that section in this one anyway\n\n\nyou like “note that” rather a lot. not a criticism, merely an observation\n\n\nlatter sections are largely above my head to critique and also significantly more confidently written as you’re finally in what must be familiar territory. there will be large gaps between issues from this point on.\n\n\nin the “flattening the data” section, the second tabbed portion with tabs marked “tidyverse” and “data.table” there’s a captioning line below both code outputs marked “[1] TRUE” what is this and what does it mean\n\n\n“Now lets use these functions23 to add a primary key to our match_stats_flat_* datasets.” let’s vs. lets\n\n\nthe tabs in the “player URLs” section have the same problem as the “flattening the data” section’s tabs, but only in the data.table tab this time? must surely be an error. henceforth, errors of this type will be marked with “1TRUE”\n\n\nthe tabs detailing the code for filtering the match stats data should be under the subheading of match stats, mirroring the player stats section. consistency!\n\n\nin the “match stats” and “player stats” sections, the outputted tables are horrific to behold. look at those sliders? the player stats one can barely be displayed and needs TEN (10) numerically notarised pages, each displaying five of forty six rows? the unedited variable names for column labels? bursting at the seams they are. these appear automatically generated and really should not be tables at all. though i understand the wish to avoid tabspam, it would be advisable to put them in the spreadsheet-esque format and hide the output in tabs as you did earlier in the document for readability’s sake at the very least\n\n\n“Not that there is already a page on this topic on AFL Tables, but it is a good one to start with regardless.” “Note”, not “Not”. also it was very kind of you to avoid “irregardless”\n\n\nyou probably don’t need to hyperlink back to the questions every time you mention them, wikipedia only does it for the first usage so why shouldn’t you\n\n\nanother bit of general advice that will need fixing in almost all cases, table column headings are frequently too small to display their labels pleasantly, good example is every usage of “opposition” in a table has just the “n” on a new line. very nasty. additionally table headings are wrapped to either the left or right of their bounding boxes, appearing to be entirely at random. tables need to be individually wrangled with for aesthetics whenever they are used, since aesthetics is readability and readability is everything. good reason not to use them\n\n\n“highest scoring quarter” section, first tabs 1TRUE\n\n\n“first quarter” section, 1TRUE\n\n\n“The record for the highest-scoring first quarter occurred during the bloodbath of an encounter that was the Bombers’ first ever clash with the Gary Ablett Junior-led Gold Coast Suns in their inaugural season in the AFL.” “Junior” to “Jr.”, i understand the temptation to not double up on punctuation but really the full word junior should never be written. could add a comma to taste\n\n\n“…notching up a 93 point lead at quarter time.” want to see an adjective here, like “blistering”\n\n\n“Interestingly, the Sun actually managed to win the second quarter, as the Bombers appeared to take there foot off the gas a little to only win by 139 points when all was said and done.” “sun” to “suns”, “there” to “their”, added comma. dislike the usage of “foot off the gas a little” deeply americanised passage for a piece about australian football. find another metaphor please\n\n\nclicking a few links in this document and came across this bit of gold in the recommended from our favourite “special” comments lad over at channel seven: https://youtu.be/HpAW8IYXd7c?t=191\n\n\n“It is exciting to me that this is a game that I can remember watching on the television at the time, it may have even been the first Gold Coast game I ever watched27.” “it” to “and” after the comma. this little paragraph including and after this sentence i dislike a great deal, you’re illustrating the fun of football stats and the narratives thereto, you don’t need to say so. i’d drop it altogether but whatever floats your boat\n\n\n“…unbelievable goals like this.” still got the edit of you kicking a similar goal down the park somewhere\n\n\n“second quarter” section, 1TRUE\n\n\n“It is quite fitting (although a little sad) that the highest scoring second quarter was against a floundering (aforementioned) fitzRoy Football Club (to which we owe the ease with which we obtained this data) en-route to a wooden spoon in their final season prior to merging with Brisbane Bears to form the Brisbane Lions.” couple of things - another usage of “little” in an american fashion. stop this. also you’ve really overdone it with the fitzroy references here, you’ve got a hyperlink to your earlier screed, formatted the name of the club after the r package and then an even more pointless bit of bracketed text explaining the previous two references. pick one and only one.\n\n\n“third quarter” section, 1TRUE\n\n\n“The game on top, the Bombers had a very even distribution of goal-kickers and kicked 32 goals, so they may appear later in our list of multiple goal kickers question.” add “in” after the comma, add “different” before “goal-kickers”, place the number of goals before the goal kickers and reformat slightly, add a comma after all of that, take out the “multiple goal kickers question” bit and just hyperlink “later in our list” to that question if you feel it’s necessary\n\n\n“all quarters” section, 1TRUE\n\n\n“Well, this was slightly unexpected, the Bloods28 came home like a freight train against the woeful Saints, in a game that took place over 100 years ago. It is also the only quarter in AFL history that has notched up a ton. Upon seeing this, given it’s vintage, I though that perhaps the story of this game might have been lost to time, but the Swans have a most insightful article up on their website about it.” bit of a monster paragraph but will endeavour to preserve it with minor commas (note that (haha) there are multiple additions). “its” vs. “it’s” rears its ugly head again. you used “notched” in the first quarter’s explanatory paragraph too, it’s a unique enough word that i’d would advise changing either one (probably the former). “though” to “thought”.\n\n\n“The explanation it provides is that St Kilda were undermanned through a combination of injury and player protest on account of off-field disputes.” try “the explanation provided claims” instead, bit nicer\n\n\n“In the infamous game, the Swans’ third (premiership) quarter was the only one that reached the top 100 quarters of all time.” usage of the word “premiership” is confusing to the casual reader (me). premiership means grand final, but this game was in round 15??? use a synonym\n\n\n“The fact that no quarter was even close to the the top indicates that the Swans were very consistent through-out the game. To use a cliche, they put in a consistent four-quarter effort and I suppose the Eagles were consistent too (consistently dismal).” torturous\n\n\nmake sure to ctrl-f aforementioned and remove some of the 7 hyperlinks\n\n\n“individual” section, 1TRUE, also nice layout of the table in this section, shows you can do it if you try\n\n\n“multiple” section, 1TRUE, ditto\n\n\n“five or more (bags)” section, 1TRUE, ditto\n\n\n“Rounding out the 4 was a contribution of 5 snags…” use four instead of 4, you’ve been using the numeral for statistics, don’t use it casually, particularly in the same sentence as a statistic\n\n\n“A clanger is defined as” and “Or in more precise football statistics terms” add colons after these\n\n\ntake the full stop out of “an absurd or embarrasing blunder” and perhaps add where the definition is from, for symmetry\n\n\n“An error made by a player resulting in a negative result for his side. Disposal clangers are any kick or handball that directly turns the ball over to the opposition. Frees and 50-metre penalties against, No Pressure Errors, Dropped Marks and Debits are all included in clangers.32” quotation not formatted correctly\n\n\n“most clangers” section, 1TRUE, in the tables in this section and the next, sydney’s data is highlighted with a blue background rather than red as was the case for previous tables. why?\n\n\n“…rolling the dice more with possession (high risk, high reward), as popularised by Richmond…” added comma\n\n\n“Having spot-checked a few examples, there is also a bit of a pattern of wet weather impacting these games it would seem.” particularly egregious example of conversational writing, it is not change that is required, but reflection\n\n\n“We will therefore have to make do with answering this question only for about the past decade.” another bit that abrades the mind, “only for about” is perfectly comprehenisible when spoken, but creates a sticking point in the middle of a written sentence\n\n\n“worst disposal efficiency” section, 1TRUE\n\n\n“The only game with less than 50% disposal efficiency was played in torrid conditions up in Cairns” “torrid”’s a lovely word that unfortunately has conflicting meanings here, originating from the latin for scorch and also used to mean difficult or troubling in the modern era, you have used it in a context where it was pissing down in the late evening. change to “horrid” for a similar level of britishness\n\n\n“I have however seen equal or worse conditions in the past, so it is somewhat curious that this was the worst by such a margin.” added comma\n\n\n“For reference, Gold Coast were very poor that year, coming second last but the Roos came in a respectable ninth position (only one win and percentage outside the top 8), this also points to them probably winning this game if has been played in more favourable conditions, but they still would have missed out on finals due to the mammoth percentage of the Cats that year.” added commas? jeez louise put a full stop, like, somewhere. replace one of the uses of “that year”. change “if has” to “if it had”\n\n\nThe “cleanest” player on the day was Jesse Joyce, who’s 8 touches came at 75% efficiency (however it was a rather low sample size). change “however it was” to “albeit with” and “who’s” (short for who has) to “whose”. apostrophes proving themselves to be tricky bastards, much like their grounded friends the commas\n\n\n“Seeing a game in 2018 is also a fun reminder of the last time the Eagles won a premiership, which feels a long way off given…” added comma\n\n\n“in spite of their recent win against the also similarly languishing35 Roos last Sunday.” remove “also” from this sentence\n\n\n“In the 20th century, the use of suburban grounds where the quality of the surface was subpar I am sure lead to far more games…” change “lead” to “led”. whaddya know about lead?\n\n\n“when I cross referenced the games with match reports and highlights, some of the”sunny” games turned out to be played in torrential rain.” added comma. would instinctually change “when i cross referenced” to “cross referencing”\n\n\n“This has only happened 4 out of 45 times and the last time was Eagles (and Carlton) superstar Chris Judd in 2005.” change “and the last time” to “, the last time being”, make sure to add the comma\n\n\n“The Norm Smith Medal was first instituted in 1979. Prior to this, there was no official award given, however the media and fans of the day had their opinions of who the best on ground was in prior grand finals.” added comma, would change “however” to “though”\n\n\n“He is known for a legendary moment during this match, where, towards the end of the fourth quarter, he ran down his own (errant) kick…” added comma. yes, i know there’s already 3 in this sentence, and yes, you need another one\n\n\n“(father of Maurice Junior who is currently plying his trade at his old man’s club)” “junior” to “jr.”\n\n\nafter all’s said and done for our questions, would like to make a suggestion that you do some further explanation not just of the top spot on our tables, but relate those circumstances and the question at large to our “infamous game” as you like to refer to it as. bit of grounding would do this article good\n\n\nfind and replace “interestingly” with synonyms, rewrite accordingly\n\n\n“…which is notable enough I think…” why would you write this\n\n\n“fitzRoy: as outlined in this article, this R package is the de facto way of sourcing AFL data.” is de facto really the phrase you want to use?\n\n\nthis article is way too long, auto-estimate claims 65 minutes, likely far less if you skip the code portions (as any sane person would) but still labourious. publications with a reputation for “journalistic integrity” only get away with 20 minutes maximum, what hope do you have in the age of subway surfers mmm ice cream so good yesyesyes"
  },
  {
    "objectID": "blog/index.html",
    "href": "blog/index.html",
    "title": "Blog",
    "section": "",
    "text": "bad\n\n\n\n\nThis is a response to a rather lengthy feedback I have received.\n\n\n\n\n\n\n13 August 2023\n\n\nTim Gummer\n\n\n22 min\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nSport\n\n\nAFL\n\n\nR\n\n\nData\n\n\n\n\nThis blog post discusses the types of questions one often posits while watching the footy (or indeed any sport). I will use this article as a medium through which I can introduce analysis of AFL data in R.\n\n\n\n\n\n\n3 August 2023\n\n\nTim Gummer\n\n\n65 min\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "blog/index.html#section",
    "href": "blog/index.html#section",
    "title": "Blog",
    "section": "",
    "text": "bad\n\n\n\n\nThis is a response to a rather lengthy feedback I have received.\n\n\n\n\n\n\n13 August 2023\n\n\nTim Gummer\n\n\n22 min\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nSport\n\n\nAFL\n\n\nR\n\n\nData\n\n\n\n\nThis blog post discusses the types of questions one often posits while watching the footy (or indeed any sport). I will use this article as a medium through which I can introduce analysis of AFL data in R.\n\n\n\n\n\n\n3 August 2023\n\n\nTim Gummer\n\n\n65 min\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "cv/index.html#download",
    "href": "cv/index.html#download",
    "title": "Curriculum Vitae",
    "section": "Download",
    "text": "Download\n\n\n\n\n  \n     Download current CV"
  },
  {
    "objectID": "cv/index.html#colophon",
    "href": "cv/index.html#colophon",
    "title": "Curriculum Vitae",
    "section": "Colophon",
    "text": "Colophon\n\nHow the CV(ausage) is made.\n\nMy resume was built in a “data-driven” fashion using the vitae R package and Excel1. It uses the beautiful Awesome CV template which I previously used in pure \\(\\LaTeX\\).1 Note that the linked YouTube video does not use Excel but I do.\nSharing\nIt is currently in a private repository on GitHub as it has some private information in it. There is also a visually consistent template for writing (cover) letters as well. I am happy to share the code with anyone who is interested. It probably is best suited to those familiar with \\(\\LaTeX\\), R and Excel2.2 I am not sure how large the intersection between these skill sets is but I personally find the workflow and resulting look very satisfying.\nIn the future I may make a clean template in a public repository to share with an accompanying blog post on how to use the template."
  },
  {
    "objectID": "cv/index.html#bit-of-fun",
    "href": "cv/index.html#bit-of-fun",
    "title": "Curriculum Vitae",
    "section": "Bit of Fun",
    "text": "Bit of Fun\nUnfortunately I do not have a video CV."
  },
  {
    "objectID": "goals/index.html#table-legend",
    "href": "goals/index.html#table-legend",
    "title": "Goals",
    "section": "Table Legend",
    "text": "Table Legend\nBelow is a legend for the Status and Completion fields."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Tim Gummer",
    "section": "",
    "text": "Github\n  \n  \n    \n     LinkedIn\n  \n  \n    \n     Email\n  \n\n  \n  \n\nYou have reached the personal website of Tim Gummer. I am an Associate of Institute of Actuaries of Australia (AIAA). I am currently taking an 18 month leave of absence from my job as an Actuarial Analyst at Finity Consulting in order to spend more time on my actuarial studies (to become a fellow), with my family and on personal projects.\nI have built this website as a fun project. I would like to use it to chronicle some of my side projects. I enjoy these projects for their own sake and the main benefit I get out of them is learning and the satisfaction of building something cool. I hope that this website will provide me with further motivation to work on these projects (as well as being an enjoyable project in and of itself).\n\nThe content of this site will mix and match combinations of some of my particular interests/skills listed below:\n\nTools/Languages: R, VBA, Excel, \\(\\LaTeX\\), Python\nMethods: Statistics, Data Science (Collection, Visualisation, Modelling), Mathematics\nApplications: Sport (Australian Rules Football, Cricket)"
  },
  {
    "objectID": "index.html#welcome-to-my-website",
    "href": "index.html#welcome-to-my-website",
    "title": "Tim Gummer",
    "section": "",
    "text": "You have reached the personal website of Tim Gummer. I am an Associate of Institute of Actuaries of Australia (AIAA). I am currently taking an 18 month leave of absence from my job as an Actuarial Analyst at Finity Consulting in order to spend more time on my actuarial studies (to become a fellow), with my family and on personal projects.\nI have built this website as a fun project. I would like to use it to chronicle some of my side projects. I enjoy these projects for their own sake and the main benefit I get out of them is learning and the satisfaction of building something cool. I hope that this website will provide me with further motivation to work on these projects (as well as being an enjoyable project in and of itself).\n\nThe content of this site will mix and match combinations of some of my particular interests/skills listed below:\n\nTools/Languages: R, VBA, Excel, \\(\\LaTeX\\), Python\nMethods: Statistics, Data Science (Collection, Visualisation, Modelling), Mathematics\nApplications: Sport (Australian Rules Football, Cricket)"
  },
  {
    "objectID": "index.html#session-info",
    "href": "index.html#session-info",
    "title": "Tim Gummer",
    "section": "Session info",
    "text": "Session info\n\nsessionInfo()\n\nR version 4.3.1 (2023-06-16 ucrt)\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\nRunning under: Windows 11 x64 (build 22621)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=English_Australia.utf8  LC_CTYPE=English_Australia.utf8   \n[3] LC_MONETARY=English_Australia.utf8 LC_NUMERIC=C                      \n[5] LC_TIME=English_Australia.utf8    \n\ntime zone: Australia/Sydney\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.2 compiler_4.3.1    fastmap_1.1.1     cli_3.6.1        \n [5] tools_4.3.1       htmltools_0.5.5   rstudioapi_0.14   yaml_2.3.7       \n [9] rmarkdown_2.22    knitr_1.43        jsonlite_1.8.5    xfun_0.39        \n[13] digest_0.6.31     rlang_1.1.1       evaluate_0.21    \n\nSys.time()\n\n[1] \"2023-07-25 15:41:36 AEST\""
  },
  {
    "objectID": "blog/2023/responses/index.html#blog-page",
    "href": "blog/2023/responses/index.html#blog-page",
    "title": "Responses to ‘blogging.txt’",
    "section": "",
    "text": "do not write “welcome to my blog” on your blog\n\n\nverbose? hardly\n\n\ngeneralities: toggling reader mode (on desktop) simply collapses (and enables the ability to expand/collapse) the contents tab on the left. if it were to flatten formatting and widen the bounding box to use more screen real estate (as reader modes typically do) as it stands the feature is pointless and likely a stock bit of a package added as a “why not”\n\n\ncomments section is both not on the contents tab and requires a sign in from a different website, though likely one your readership is likely to have. this is a recipe for 0 feedback. i would have liked to post this entire text document publically and anonymously, and was denied this pleasure. rectify this.\n\n\ntext used for hyperlinks is not indexed in the search bar (search “boffins” to check this), neither is text in footnotes (search “gadget”)\n\n\nconversational tone taken throughout has divested your good sense on where to place commas, this will make up the bulk of adjustments. writing style leaves something to be desired but will endeavour to avoid correcting this, we know you have your ways. most of the comma-based corrections will place the comma inside the example text, while wording corrections will explain their placement outside the quotation to preserve easy ctrl-f-ing\n\n\nthough this article has been out for a couple of weeks, it’d be good if you could implement at least some of these changes while it is the only one present on your website. unfortunately, you only get one chance at a first impression, and that time is long past. judging by the views on the BT clip you shared, this article was read (or shared with) by about 10 people, 11 including me. i believe greater readership is possible."
  },
  {
    "objectID": "blog/2023/responses/index.html#article-proper",
    "href": "blog/2023/responses/index.html#article-proper",
    "title": "Responses to ‘blogging.txt’",
    "section": "",
    "text": "adjust the tone of the foreword marked “apologies for the delay” from apologetic to those who you have promised this work, to informing/warning the prospective reader of your particular idiosyncracies (if it is to be preserved at all). starting your first ever post with an apology for (not) writing it (well enough) is rarely a winning strategy. easiest way to do this is simply remove the heading and first two lines and simply call this a mission statement or reflection or examen or whatever you like. perhaps place it at the end of the article too.\n\n\n“I often have all the ideas in my head, but when it comes to putting them into nice, publishable words, it becomes a bit of a slog.” add comma + becomes. consider rewriting this. “nice, publishable words” is good but should be slotted into a better sentence\n\n\n“I commend anyone who actually reads the whole thing, but hopefully it’s also possible to jump around and only read the parts that interest you in particular using the table of contents.” added comma + it’s (“it’s” is short for “it is” whereas “its” is possessive, think about it in terms of the words “he’s” vs. “his” rather than the proper nouns that cause this confusion (“Tim’s” is not short for “Tim is”))\n\n\n“1 As a Western Australian this is how I define it (along with the majority of Australia) but I am aware that this term is reserved for rugby league in New South Wales and Queensland” footnotes in articles by convention are short and to the point and are typically used for references, if you have much to say it ought to be in the main body of the article or removed entirely. amend this for brevity and more earnest cruelty for easterners.\n\n\n““the most data rich sport on Earth”2,” should be a hyperlink\n\n\n“But what are us plebeians meant to do, bereft of such luxuries you might ask?” why is this quoted? remove the quotation formatting or “you might ask” from the end of this\n\n\n“The more savvy among us may find answers to slightly more edifying questions by performing pro gamer moves such as:” end with a colon or emdash (lol) to avoid colonspam, also too many qualifiers in one sentence, remove either “may” or “slightly”, what this article needs is a strong leader\n\n\n““What is the most disposals Zac Dawson had in a game”7;” text within quotation marks should start capitalised, and added an s to “disposals”\n\n\n““what is the record for the longest distance run in a game”.8” same as previous, also footnote should be hyperlinked for parity with previous, if possible. add a full stop too.\n\n\n“but some questions will still go unanswered.” this should be a new sentence, reading something like “Even so, the most complex questions will still go unanswered.”\n\n\nwould like to see some text early on framing the article more directly attempting to place this outlier of a game into the context of the full history of afl stats. from reading the whole thing this is obvious but it would be good to have that formalised early on, as well as the term “infamous game” used throughout to refer to the syd vs. wce game. add this in either the question list or concrete example sections\n\n\n“However, if you are a gadget-type operator9 like myself,” style guides will tell you to never start a sentence with “however”, these style guides are irrelevant nonsense. you do need a comma though\n\n\n“9 My footy tipping username is Gadget-type Operator and I often use other BT quotes for my username on other (even non-footy-related) accounts” hyperlinked the same video in both BT referencing footnotes\n\n\n“There are, of course, a multitude of tools and approaches to this, but in this post, I will be using R (my preferred programming language).” commas, for flavour\n\n\n“Target Audience Unclear” you said it fella. this section is quoted erroneously, and should probably should be put in place of/be incorporated into the “apologies for the delay” section\n\n\n“If we also consider that my usual footy-going companion (Saroop) and I are both actuaries by trade, it is safe to say that footy stats questions were flying left, right and centre on that gloomy (but not because of the weather) Saturday night at the SCG. The questions we posed did not just vanish into the aether either, I (with the idea of writing this article in mind) decided to record the more interesting (and doable) questions” some stylistic and readability suggestions - remove “if we also consider that” and replace with “as”, add “as pictured” or “pictured, right” to (Saroop), add an oxford comma to “left, right, and centre”, remove “it is safe to say that” and replace with “the”, replace “but not because of” with “though not due to”, remove the brackets around (with the idea of writing…) and add a comma beforehand instead, good usage of the archaic form of “aether”, no change\n\n\n“Disclaimer on the asterisk” section entirely defeats the point of an asterisk, place the explanation in the side panel with the footnotes (significantly shortened), or it its current position (slightly shortened), whatever you choose to do, the line “I have put an asterisk next to…” must be removed.\n\n\n“The first step in analysing AFL data is obtaining the data (the so-called”collection” phase). Our first thought…” repetition of the word “first” here is inadvisable, try “Before any analysis can take place, we must obtain the data we wish to work with” etc. etc. as you have begun the technical phase of the article you have taken on the tone of a tutorial rather than a conversation as previously, perhaps unconsiously, as if you expect the prospective reader to follow along. this is fine but should be done carefully and consistently, have a reread of these sections yourself to ensure this tone is maintained throughout sections where it ought to (we and our instead of i and my for example)\n\n\n“10 It is also (regrettably) the place of my birth but as a WA boy I don’t like to talk about the fact that my parents happened to be in Melbourne when I was born.” weird footnote just get rid of it\n\n\nwould like to note that i was the 1000th view on the fitzroy lions anthem video\n\n\n“fitzRoy R package” add a hyperlink to the documentation to the first usage of this and include the author/group’s name in that line\n\n\n“fitzRoy provides access to a number of footy data sources11…” could also be a hyperlink\n\n\n“12 Centre bounce attendances (CBAs) are a commonly-used metrics in AFL fantasy, coaches often look at tools such as this one to help with researching their trades.” remove s from “metrics”, change “coaches” to more generic terminology like “participants” (not participants specifically, that’s rubbish) or add the prefix “fantasy” to ensure such people are not confused with real actual coaches, no, i don’t care that the word before the comma is “fantasy”, you’re ostensibly writing this for data autists, footy fans or both, and only the both group will know implicitly what you mean. best rule of article writing is to assume your audience is retarded while constantly reassuring them that they’re hugely intelligent for being able to comprehend what you’re saying, they’ll never notice the condescension\n\n\n“Data Sources Table” - stick with me here:\n{\nclicking a column to sort the table twice should return the table to its original, unsorted state. currently there is no way to do this other than to refresh the page. paradoxically, the table is sorted in what appears to be a random order (almost certainly the order in which the data was entered into the table) and should instead be organised by one of the metrics of the columns by default (probably the data sources alphabetically). the first of these doesn’t actually matter and just annoys me, so implementing just the second should be enough\nwhen expanding the rows in the data source column, an extra row expands, granting further detail on what data the fitzRoy package calls. my question is, what is the “unqiue” column? why does it ruin the symmetry and cleanliness of this otherwise lovely table? the addition of a thick, ugly slide bar to 2 out of 5 rows is not worth the additional links, which could easily be footnotes or ommitted? why is “unique” misspelt?\nrow “Squiggle”, column “Speed of Fetch” rollover pop-up text: “indended to be slow” - was this indendional?\nadd some commas to the rollover pop-up text of the “AFL Tables” and “Footywire” rows in the “Level of Detail” column\n}\n\n\n“When sourcing data from fitzRoy, it is important to follow good data collection14 etiquette…” another hyperlink\n\n\nopportunity\n\n\n“…I use readRDS().” put this in brackets, or explain it more in a footnote (why? what is it? why should i care?), or get rid of it. probably the first one. also it’s a hyperlink, but isn’t orange? more on that later\n\n\n“16 Note that I have not written a base R dataframes version because I can see arguments for using both tidyverse and data.table but base R data.frames will probably cause more pain than they are worth (there is a reason that tidyverse and data.table exist)” added a comma, while this is already an unwieldy footnote, you have alluded to a third, inferior method to achieve your goals without explaining how it is inferior. should make it snappier or remove it, could change this sentence to something like “16 could also write this as a base r dataframes version, but trust me, it’s not worth it”\n\n\nmore general advice than specific but there’s a lot of “I have” and “I will” from this point forward. could shift some words around to feel less diaristic and repetitive\n\n\n“However this is add the _tb suffix18 to distinguish it from the data.table code.” i do not believe you had a proofreader besides me\n\n\n“The so-called pipe operator (%&gt; %) of the magrittr package has been a core staple of tidyverse since its inception, but since the R core team introduced the so-called native pipe (|&gt; ) to base R (in version 4.120), this has led to a split in adoption.” added comma\n\n\n“20 another cool thing introduced in this version of R was so-called function shorthand (()), see help(”function”) for more details” hyperlink in this footnote is not orange. need more formatting consistency. if you’d like to check your hyperlinks in future, easy way to do this is create a blank bookmark in chrome and paste this bit of javascript in as the URL (or write your own, since you can do that): javascript:(function(){for(i=0;i&lt;document.links.length;i++)document.links[i].style.backgroundColor=‘#ffff00’;})();\n\n\n“Note that the common RStudio shortcut, Ctrl+Shift+M can be changed from the magrittr pipe (%&gt; %), which is still the default, to the native pipe (|&gt; ).” why is this quoted?\n\n\nthe “webscraping package” section could be put with the fitzRoy section, no reason to bury the lede, ’specially since you’ve got a hyperlink back to that section in this one anyway\n\n\nyou like “note that” rather a lot. not a criticism, merely an observation\n\n\nlatter sections are largely above my head to critique and also significantly more confidently written as you’re finally in what must be familiar territory. there will be large gaps between issues from this point on.\n\n\nin the “flattening the data” section, the second tabbed portion with tabs marked “tidyverse” and “data.table” there’s a captioning line below both code outputs marked “[1] TRUE” what is this and what does it mean\n\n\n“Now lets use these functions23 to add a primary key to our match_stats_flat_* datasets.” let’s vs. lets\n\n\nthe tabs in the “player URLs” section have the same problem as the “flattening the data” section’s tabs, but only in the data.table tab this time? must surely be an error. henceforth, errors of this type will be marked with “1TRUE”\n\n\nthe tabs detailing the code for filtering the match stats data should be under the subheading of match stats, mirroring the player stats section. consistency!\n\n\nin the “match stats” and “player stats” sections, the outputted tables are horrific to behold. look at those sliders? the player stats one can barely be displayed and needs TEN (10) numerically notarised pages, each displaying five of forty six rows? the unedited variable names for column labels? bursting at the seams they are. these appear automatically generated and really should not be tables at all. though i understand the wish to avoid tabspam, it would be advisable to put them in the spreadsheet-esque format and hide the output in tabs as you did earlier in the document for readability’s sake at the very least\n\n\n“Not that there is already a page on this topic on AFL Tables, but it is a good one to start with regardless.” “Note”, not “Not”. also it was very kind of you to avoid “irregardless”\n\n\nyou probably don’t need to hyperlink back to the questions every time you mention them, wikipedia only does it for the first usage so why shouldn’t you\n\n\nanother bit of general advice that will need fixing in almost all cases, table column headings are frequently too small to display their labels pleasantly, good example is every usage of “opposition” in a table has just the “n” on a new line. very nasty. additionally table headings are wrapped to either the left or right of their bounding boxes, appearing to be entirely at random. tables need to be individually wrangled with for aesthetics whenever they are used, since aesthetics is readability and readability is everything. good reason not to use them\n\n\n“highest scoring quarter” section, first tabs 1TRUE\n\n\n“first quarter” section, 1TRUE\n\n\n“The record for the highest-scoring first quarter occurred during the bloodbath of an encounter that was the Bombers’ first ever clash with the Gary Ablett Junior-led Gold Coast Suns in their inaugural season in the AFL.” “Junior” to “Jr.”, i understand the temptation to not double up on punctuation but really the full word junior should never be written. could add a comma to taste\n\n\n“…notching up a 93 point lead at quarter time.” want to see an adjective here, like “blistering”\n\n\n“Interestingly, the Sun actually managed to win the second quarter, as the Bombers appeared to take there foot off the gas a little to only win by 139 points when all was said and done.” “sun” to “suns”, “there” to “their”, added comma. dislike the usage of “foot off the gas a little” deeply americanised passage for a piece about australian football. find another metaphor please\n\n\nclicking a few links in this document and came across this bit of gold in the recommended from our favourite “special” comments lad over at channel seven: https://youtu.be/HpAW8IYXd7c?t=191\n\n\n“It is exciting to me that this is a game that I can remember watching on the television at the time, it may have even been the first Gold Coast game I ever watched27.” “it” to “and” after the comma. this little paragraph including and after this sentence i dislike a great deal, you’re illustrating the fun of football stats and the narratives thereto, you don’t need to say so. i’d drop it altogether but whatever floats your boat\n\n\n“…unbelievable goals like this.” still got the edit of you kicking a similar goal down the park somewhere\n\n\n“second quarter” section, 1TRUE\n\n\n“It is quite fitting (although a little sad) that the highest scoring second quarter was against a floundering (aforementioned) fitzRoy Football Club (to which we owe the ease with which we obtained this data) en-route to a wooden spoon in their final season prior to merging with Brisbane Bears to form the Brisbane Lions.” couple of things - another usage of “little” in an american fashion. stop this. also you’ve really overdone it with the fitzroy references here, you’ve got a hyperlink to your earlier screed, formatted the name of the club after the r package and then an even more pointless bit of bracketed text explaining the previous two references. pick one and only one.\n\n\n“third quarter” section, 1TRUE\n\n\n“The game on top, the Bombers had a very even distribution of goal-kickers and kicked 32 goals, so they may appear later in our list of multiple goal kickers question.” add “in” after the comma, add “different” before “goal-kickers”, place the number of goals before the goal kickers and reformat slightly, add a comma after all of that, take out the “multiple goal kickers question” bit and just hyperlink “later in our list” to that question if you feel it’s necessary\n\n\n“all quarters” section, 1TRUE\n\n\n“Well, this was slightly unexpected, the Bloods28 came home like a freight train against the woeful Saints, in a game that took place over 100 years ago. It is also the only quarter in AFL history that has notched up a ton. Upon seeing this, given it’s vintage, I though that perhaps the story of this game might have been lost to time, but the Swans have a most insightful article up on their website about it.” bit of a monster paragraph but will endeavour to preserve it with minor commas (note that (haha) there are multiple additions). “its” vs. “it’s” rears its ugly head again. you used “notched” in the first quarter’s explanatory paragraph too, it’s a unique enough word that i’d would advise changing either one (probably the former). “though” to “thought”.\n\n\n“The explanation it provides is that St Kilda were undermanned through a combination of injury and player protest on account of off-field disputes.” try “the explanation provided claims” instead, bit nicer\n\n\n“In the infamous game, the Swans’ third (premiership) quarter was the only one that reached the top 100 quarters of all time.” usage of the word “premiership” is confusing to the casual reader (me). premiership means grand final, but this game was in round 15??? use a synonym\n\n\n“The fact that no quarter was even close to the the top indicates that the Swans were very consistent through-out the game. To use a cliche, they put in a consistent four-quarter effort and I suppose the Eagles were consistent too (consistently dismal).” torturous\n\n\nmake sure to ctrl-f aforementioned and remove some of the 7 hyperlinks\n\n\n“individual” section, 1TRUE, also nice layout of the table in this section, shows you can do it if you try\n\n\n“multiple” section, 1TRUE, ditto\n\n\n“five or more (bags)” section, 1TRUE, ditto\n\n\n“Rounding out the 4 was a contribution of 5 snags…” use four instead of 4, you’ve been using the numeral for statistics, don’t use it casually, particularly in the same sentence as a statistic\n\n\n“A clanger is defined as” and “Or in more precise football statistics terms” add colons after these\n\n\ntake the full stop out of “an absurd or embarrasing blunder” and perhaps add where the definition is from, for symmetry\n\n\n“An error made by a player resulting in a negative result for his side. Disposal clangers are any kick or handball that directly turns the ball over to the opposition. Frees and 50-metre penalties against, No Pressure Errors, Dropped Marks and Debits are all included in clangers.32” quotation not formatted correctly\n\n\n“most clangers” section, 1TRUE, in the tables in this section and the next, sydney’s data is highlighted with a blue background rather than red as was the case for previous tables. why?\n\n\n“…rolling the dice more with possession (high risk, high reward), as popularised by Richmond…” added comma\n\n\n“Having spot-checked a few examples, there is also a bit of a pattern of wet weather impacting these games it would seem.” particularly egregious example of conversational writing, it is not change that is required, but reflection\n\n\n“We will therefore have to make do with answering this question only for about the past decade.” another bit that abrades the mind, “only for about” is perfectly comprehenisible when spoken, but creates a sticking point in the middle of a written sentence\n\n\n“worst disposal efficiency” section, 1TRUE\n\n\n“The only game with less than 50% disposal efficiency was played in torrid conditions up in Cairns” “torrid”’s a lovely word that unfortunately has conflicting meanings here, originating from the latin for scorch and also used to mean difficult or troubling in the modern era, you have used it in a context where it was pissing down in the late evening. change to “horrid” for a similar level of britishness\n\n\n“I have however seen equal or worse conditions in the past, so it is somewhat curious that this was the worst by such a margin.” added comma\n\n\n“For reference, Gold Coast were very poor that year, coming second last but the Roos came in a respectable ninth position (only one win and percentage outside the top 8), this also points to them probably winning this game if has been played in more favourable conditions, but they still would have missed out on finals due to the mammoth percentage of the Cats that year.” added commas? jeez louise put a full stop, like, somewhere. replace one of the uses of “that year”. change “if has” to “if it had”\n\n\nThe “cleanest” player on the day was Jesse Joyce, who’s 8 touches came at 75% efficiency (however it was a rather low sample size). change “however it was” to “albeit with” and “who’s” (short for who has) to “whose”. apostrophes proving themselves to be tricky bastards, much like their grounded friends the commas\n\n\n“Seeing a game in 2018 is also a fun reminder of the last time the Eagles won a premiership, which feels a long way off given…” added comma\n\n\n“in spite of their recent win against the also similarly languishing35 Roos last Sunday.” remove “also” from this sentence\n\n\n“In the 20th century, the use of suburban grounds where the quality of the surface was subpar I am sure lead to far more games…” change “lead” to “led”. whaddya know about lead?\n\n\n“when I cross referenced the games with match reports and highlights, some of the”sunny” games turned out to be played in torrential rain.” added comma. would instinctually change “when i cross referenced” to “cross referencing”\n\n\n“This has only happened 4 out of 45 times and the last time was Eagles (and Carlton) superstar Chris Judd in 2005.” change “and the last time” to “, the last time being”, make sure to add the comma\n\n\n“The Norm Smith Medal was first instituted in 1979. Prior to this, there was no official award given, however the media and fans of the day had their opinions of who the best on ground was in prior grand finals.” added comma, would change “however” to “though”\n\n\n“He is known for a legendary moment during this match, where, towards the end of the fourth quarter, he ran down his own (errant) kick…” added comma. yes, i know there’s already 3 in this sentence, and yes, you need another one\n\n\n“(father of Maurice Junior who is currently plying his trade at his old man’s club)” “junior” to “jr.”\n\n\nafter all’s said and done for our questions, would like to make a suggestion that you do some further explanation not just of the top spot on our tables, but relate those circumstances and the question at large to our “infamous game” as you like to refer to it as. bit of grounding would do this article good\n\n\nfind and replace “interestingly” with synonyms, rewrite accordingly\n\n\n“…which is notable enough I think…” why would you write this\n\n\n“fitzRoy: as outlined in this article, this R package is the de facto way of sourcing AFL data.” is de facto really the phrase you want to use?\n\n\nthis article is way too long, auto-estimate claims 65 minutes, likely far less if you skip the code portions (as any sane person would) but still labourious. publications with a reputation for “journalistic integrity” only get away with 20 minutes maximum, what hope do you have in the age of subway surfers mmm ice cream so good yesyesyes"
  }
]